<template>
  <section class="home-view-container">
    <section class="container my-4">
    <div class="d-flex justify-content-between align-items-center link-row">
      <router-link to="/" class="nav-link-custom">
        <i class="bi bi-geo-alt me-2"></i>
        En Yakın Mağaza
      </router-link>
      <router-link to="/" class="nav-link-custom">
        <i class="bi bi-geo-alt me-2"></i>
        2 Haftada Teslimat
      </router-link>
      <router-link to="/" class="nav-link-custom">
        <i class="bi bi-geo-alt me-2"></i>
        Online Mimari Destek
      </router-link>
      <router-link to="/" class="nav-link-custom">
        <i class="bi bi-geo-alt me-2"></i>
        5 Yıl Garanti
      </router-link>
    </div>
    <hr class="mt-2"/>
    </section>

    <section class="row interline-cover">
      <h2 class="intertitle">Tarzına Uygun Genç Odaları</h2>
      <p class="intertext">"Sen hangi ara bu kadar büyüdün!" dediğinizde de kullanabileceği Genç Odaları Modellerimiz;</p>
    </section>
    
<section class="container my-5">
    <div class="row g-4 justify-content-center">

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/trio2_720x.jpg?v=1678279539')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Trio</h3>
        </div>
      </div>

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/Lapel_720x.jpg?v=1755778583')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Lapel</h3>
        </div>
      </div>

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/01_24f6ef43-30d8-4b92-aaae-090d386defff_720x.jpg?v=1678366375')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Rustik Beyaz</h3>
        </div>
      </div>

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/romantic_32_large_dc0ea184-f3e6-420c-bce6-a273e930f53c_720x.jpg?v=1678272922')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Romantic</h3>
        </div>
      </div>      
    </div>
    <div class="text-center my-4">
      <router-link to="/category/genc-odalari" class="seeAll">Tüm Genç Odalarını Gör →</router-link>
    </div>
  </section>

  <section class="row interline-cover">
    <h2 class="intertitle">Eğlenceli Çocuk Odaları</h2>
    <p class="intertext">Gelişimin, öğrenmenin, eğlencenin tavan yaptığı çocuk odalarında bu hafta:</p>
  </section>

  <section class="container my-5">
    <div class="row g-4 justify-content-center">

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/Screen_Shot_2021-02-03_at_22.49.40_720x.png?v=1738177377')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Pirate</h3>
        </div>
      </div>

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/20.35.00-004_orj_720x.jpg?v=1678288455')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Champion Racer</h3>
        </div>
      </div>

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/Montes-Beyaz_720x.jpg?v=1678274356')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Montes Beyaz</h3>
        </div>
      </div>

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/masa_720x.jpg?v=1729248751')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Çalışma Masaları</h3>
        </div>
      </div>      
    </div>
    <div class="text-center my-4">
      <router-link to="/category/yatak-odalari" class="seeAll">Tüm Çocuk Odalarını Gör →</router-link>
    </div>
  </section>

  <section class="row interline-cover">
    <h2 class="intertitle">Güvenli Bebek Odaları</h2>
    <p class="intertext">"Evine hoş geldin" heyecanınıza ortak olan bebek odalarımız...</p>
  </section>

  <section class="container my-5">
    <div class="row g-4 justify-content-center">

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/Loof-Baby_720x.jpg?v=1669643556')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Baby Loof</h3>
        </div>
      </div>

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/Mino-Baby_720x.jpg?v=1678289192')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Baby Mino</h3>
        </div>
      </div>

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/babycotton_540x.jpg?v=1678276170')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Baby Cotton</h3>
        </div>
      </div>

      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="category-card d-flex align-items-center justify-content-center text-white"
          style="background-image: url('https://cilek.com/cdn/shop/collections/20.21.00.016_copy_540x.jpg?v=1678699461')">
          <div class="overlay"></div>
          <h3 class="z-2 fw-bold category-card-text">Baby Romantic</h3>
        </div>
      </div>      
    </div>
    <div class="text-center my-4">
      <router-link to="/category/bebek-odalari" class="seeAll">Tüm Bebek Odalarını Gör →</router-link>
    </div>
  </section>

  <section class="container my-4">
      <div class="row g-4">
        <div 
        v-for="(item) in ProductStore.products.slice(0,3)" 
        :key="item.product_id" 
        class="col-lg-4 col-md-4 col-sm-6"
        >
        <div class="card product-card h-100 shadow-sm">
          <div class="product-img-wrapper">
            <img 
            :src="item.thumbnail" 
            class="product-img" 
            :alt="item.title"
            >
          </div>
          <div class="card-body d-flex flex-column min-width">
            <h5 class="card-title">{{ item.title }}</h5>
            <p class="card-text text-muted mb-3">{{ item.price }} TL</p>
            <div class="d-flex justify-items-between gap-2">
              <router-link class="btn btn-primary flex-grow-2" :to="'product/'+item.product_id">Hızlı Bakış</router-link>
              <button class="btn btn-success mt-auto flex-grow-1">Sepete Ekle</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</section>
</template>

<script lang="ts">
import { defineComponent } from 'vue';
import { useProductStore } from '../store/ProductsStore';

export default defineComponent(
{
  name: 'HomeView',
  data() {
    return {
    }
  },
  computed:{
    ProductStore(){
      return useProductStore();
    }
  },
  mounted(){
     this.ProductStore.loadCategory();
  },
});
</script>

<style scoped>
.home-view-container{
  padding-right: var(--bs-gutter-x, 0.75rem);
}

.card-img-top {
  object-fit: cover;
  height: 200px;
}

.product-card {
  border-radius: 12px;
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  cursor: pointer;
  min-width: 250px;
}

.product-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
}

.product-img-wrapper {
  height: 220px;
  overflow: hidden;
}

.product-img {
  object-fit: cover;
  width: 100%;
  height: 100%;
  transition: transform 0.5s ease;
}

.product-card:hover .product-img {
  transform: scale(1.1); /* resme zoom efekti */
}

.card-title {
  font-size: 1.1rem;
  font-weight: 600;
}

.card-text {
  font-size: 0.95rem;
}

.link-row {
  width: 100%;
}

.nav-link-custom {
  display: flex;
  align-items: center;
  text-decoration: none;
  color: #000;
  position: relative;
  padding-bottom: 4px;
  transition: color 0.3s;
  font-size: 0.9em ;
}

.nav-link-custom:hover {
  color: #007bff; 
}

.nav-link-custom::after {
  content: "";
  position: absolute;
  width: 0;
  height: 2px;
  background-color: #006eff;
  bottom: 0;
  left: 0;
  transition: width 0.3s;
}

.nav-link-custom:hover::after {
  width: 100%;
}

hr {
  border-top: 3px solid #ccc;
}

.interline-cover{
      text-align: center;
    font-family: 'bootstrap-icons';
}

.intertext{
  font-style: italic;
    margin-top: 1em;
}

.category-card {
  position: relative;
  height: 320px;
  border: none;
  background-size: cover;
  background-position: center;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}

.category-card:hover {
  transform: scale(1.03);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
}

.overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
  transition: background 0.4s ease;
}

.category-card:hover .overlay {
  background: rgba(0, 0, 0, 0.55);
}

.category-card-text {
  position: absolute;
  left: 20px;
  bottom: 25px;
  color: #fff;
  font-size: 1.6rem;
  font-weight: 700;
  letter-spacing: 0.5px;
  font-family: 'Courier New', Courier, monospace;
  z-index: 2;
  transition: color 0.4s ease, transform 0.4s ease;
}


.category-card-text::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -8px; 
  width: 0;
  height: 3px;
  background-color: #ffffff;
  transition: width 0.4s ease;
}

.category-card:hover .category-card-text {
  transform: translateY(-5px);
}

.category-card:hover .category-card-text::after {
  width: 60%;
}

.seeAll{
  font-size: 1.6em;
  font-family:'Courier New', Courier, monospace;
  color: #383636;
  position: relative;
}

.seeAll::after{
  content: "";
  height: 2px;
  width: 100%;  
  background: rgb(168, 164, 164);
  position: absolute;
  bottom: -8px;
  left: 0px;
}

.seeAll::before{
   content: "";
  height: 2px;
  width: 0%;  
  background: rgb(0, 0, 0);
  position: absolute;
  z-index: 1;
  bottom: -8px;
  left: 0px;
  transition: width 0.4s ease;
}

.seeAll:hover::before{
  width: 100%;
}

</style>
