{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport { onMounted, ref, computed } from \"vue\";\nimport { useProductStore } from \"../store/ProductsStore\";\nimport axios from \"axios\";\nexport default {\n  name: \"DashboardProductsView\",\n  setup() {\n    const productStore = useProductStore();\n    const {\n      products,\n      loadCategory\n    } = productStore;\n    const search = ref(\"\");\n    const selectedCategory = ref(\"\");\n    const stockFilter = ref(\"\");\n    onMounted(() => {\n      loadCategory();\n    });\n    const categories = computed(() => {\n      const set = new Set(products.map(p => p.category));\n      return [...set];\n    });\n    const filteredProducts = computed(() => products.filter(p => {\n      const matchTitle = p.title.toLowerCase().includes(search.value.toLowerCase());\n      const matchCategory = selectedCategory.value ? p.category === selectedCategory.value : true;\n      const matchStock = stockFilter.value === \"in\" ? p.stock > 0 : stockFilter.value === \"out\" ? p.stock <= 0 : true;\n      return matchTitle && matchCategory && matchStock;\n    }));\n    function deleteProduct(id) {\n      if (confirm(\"Ürünü silmek istediğine emin misin?\")) {\n        axios.post(\"http://localhost:8080/api/delete_product\", {\n          id\n        }).then(() => {\n          productStore.products = productStore.products.filter(p => p.product_id !== id);\n        }).catch(err => console.log(\"Silme hatası:\", err));\n      }\n    }\n    function editProduct(p) {\n      alert(`${p.title} düzenleme sayfasına yönlendirilecek (örnek).`);\n    }\n    return {\n      products,\n      search,\n      selectedCategory,\n      stockFilter,\n      categories,\n      filteredProducts,\n      deleteProduct,\n      editProduct\n    };\n  }\n};","map":{"version":3,"names":["onMounted","ref","computed","useProductStore","axios","name","setup","productStore","products","loadCategory","search","selectedCategory","stockFilter","categories","set","Set","map","p","category","filteredProducts","filter","matchTitle","title","toLowerCase","includes","value","matchCategory","matchStock","stock","deleteProduct","id","confirm","post","then","product_id","catch","err","console","log","editProduct","alert"],"sources":["/home/aliberk/Masaüstü/ecommerce/frontend/client/src/views/DashboardProductsView.vue"],"sourcesContent":["<template>\n  <section class=\"container mt-4\">\n    <div class=\"d-flex justify-content-between mb-4 align-items-center\">\n        <h3 class=\"mb-3\">Ürün Yönetimi</h3>\n        <router-link to=\"/dashboard/addProduct\" class=\"btn btn-success\">Ürün Ekle</router-link>\n    </div>\n\n    <!-- Filtre Alanı -->\n    <div class=\"filters mb-4\">\n      <input\n        v-model=\"search\"\n        placeholder=\"Ürün adı ara...\"\n        class=\"form-control mb-2\"\n      />\n      <select v-model=\"selectedCategory\" class=\"form-select mb-2\">\n        <option value=\"\">Tüm Kategoriler</option>\n        <option v-for=\"cat in categories\" :key=\"cat\">{{ cat }}</option>\n      </select>\n      <select v-model=\"stockFilter\" class=\"form-select\">\n        <option value=\"\">Tüm Stoklar</option>\n        <option value=\"in\">Stokta</option>\n        <option value=\"out\">Stokta Yok</option>\n      </select>\n    </div>\n\n    <!-- Ürün Tablosu -->\n    <table class=\"table table-bordered align-middle text-center\">\n      <thead class=\"table-dark\">\n        <tr>\n          <th>ID</th>\n          <th>Görsel</th>\n          <th>Başlık</th>\n          <th>Kategori</th>\n          <th>Fiyat</th>\n          <th>Stok</th>\n          <th>İşlemler</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"p in filteredProducts\" :key=\"p.product_id\">\n          <td>{{ p.product_id }}</td>\n          <td>\n            <img\n              :src=\"p.thumbnail\"\n              alt=\"ürün görseli\"\n              width=\"60\"\n              class=\"rounded\"\n            />\n          </td>\n          <td>{{ p.title }}</td>\n          <td>{{ p.category }}</td>\n          <td>{{ p.price }} ₺</td>\n          <td>\n            <span :class=\"p.stock > 0 ? 'text-success' : 'text-danger'\">\n              {{ p.stock > 0 ? \"Stokta\" : \"Tükendi\" }}\n            </span>\n          </td>\n          <td>\n            <button\n              class=\"btn btn-warning btn-sm me-2\"\n              @click=\"editProduct(p)\"\n            >\n              Düzenle\n            </button>\n            <button\n              class=\"btn btn-danger btn-sm\"\n              @click=\"deleteProduct(p.product_id)\"\n            >\n              Sil\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <p v-if=\"!filteredProducts.length\" class=\"text-muted mt-3 text-center\">\n      Hiç ürün bulunamadı.\n    </p>\n  </section>\n</template>\n\n<script>\nimport { onMounted, ref, computed } from \"vue\";\nimport { useProductStore } from \"../store/ProductsStore\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"DashboardProductsView\",\n\n  setup() {\n    const productStore = useProductStore();\n    const { products, loadCategory } = productStore;\n\n    const search = ref(\"\");\n    const selectedCategory = ref(\"\");\n    const stockFilter = ref(\"\");\n\n    onMounted(() => {\n      loadCategory();\n    });\n\n    const categories = computed(() => {\n      const set = new Set(products.map((p) => p.category));\n      return [...set];\n    });\n\n    const filteredProducts = computed(() =>\n      products.filter((p) => {\n        const matchTitle = p.title\n          .toLowerCase()\n          .includes(search.value.toLowerCase());\n        const matchCategory = selectedCategory.value\n          ? p.category === selectedCategory.value\n          : true;\n        const matchStock =\n          stockFilter.value === \"in\"\n            ? p.stock > 0\n            : stockFilter.value === \"out\"\n            ? p.stock <= 0\n            : true;\n        return matchTitle && matchCategory && matchStock;\n      })\n    );\n\n    function deleteProduct(id) {\n      if (confirm(\"Ürünü silmek istediğine emin misin?\")) {\n        axios\n          .post(\"http://localhost:8080/api/delete_product\", { id })\n          .then(() => {\n            productStore.products = productStore.products.filter(\n              (p) => p.product_id !== id\n            );\n          })\n          .catch((err) => console.log(\"Silme hatası:\", err));\n      }\n    }\n\n    function editProduct(p) {\n      alert(`${p.title} düzenleme sayfasına yönlendirilecek (örnek).`);\n    }\n\n    return {\n      products,\n      search,\n      selectedCategory,\n      stockFilter,\n      categories,\n      filteredProducts,\n      deleteProduct,\n      editProduct,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.filters {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 10px;\n}\n</style>"],"mappings":";;;;;;;;;;AAkFA,SAASA,SAAS,EAAEC,GAAG,EAAEC,QAAO,QAAS,KAAK;AAC9C,SAASC,eAAc,QAAS,wBAAwB;AACxD,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,uBAAuB;EAE7BC,KAAKA,CAAA,EAAG;IACN,MAAMC,YAAW,GAAIJ,eAAe,CAAC,CAAC;IACtC,MAAM;MAAEK,QAAQ;MAAEC;IAAa,IAAIF,YAAY;IAE/C,MAAMG,MAAK,GAAIT,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMU,gBAAe,GAAIV,GAAG,CAAC,EAAE,CAAC;IAChC,MAAMW,WAAU,GAAIX,GAAG,CAAC,EAAE,CAAC;IAE3BD,SAAS,CAAC,MAAM;MACdS,YAAY,CAAC,CAAC;IAChB,CAAC,CAAC;IAEF,MAAMI,UAAS,GAAIX,QAAQ,CAAC,MAAM;MAChC,MAAMY,GAAE,GAAI,IAAIC,GAAG,CAACP,QAAQ,CAACQ,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,QAAQ,CAAC,CAAC;MACpD,OAAO,CAAC,GAAGJ,GAAG,CAAC;IACjB,CAAC,CAAC;IAEF,MAAMK,gBAAe,GAAIjB,QAAQ,CAAC,MAChCM,QAAQ,CAACY,MAAM,CAAEH,CAAC,IAAK;MACrB,MAAMI,UAAS,GAAIJ,CAAC,CAACK,KAAI,CACtBC,WAAW,CAAC,EACZC,QAAQ,CAACd,MAAM,CAACe,KAAK,CAACF,WAAW,CAAC,CAAC,CAAC;MACvC,MAAMG,aAAY,GAAIf,gBAAgB,CAACc,KAAI,GACvCR,CAAC,CAACC,QAAO,KAAMP,gBAAgB,CAACc,KAAI,GACpC,IAAI;MACR,MAAME,UAAS,GACbf,WAAW,CAACa,KAAI,KAAM,IAAG,GACrBR,CAAC,CAACW,KAAI,GAAI,IACVhB,WAAW,CAACa,KAAI,KAAM,KAAI,GAC1BR,CAAC,CAACW,KAAI,IAAK,IACX,IAAI;MACV,OAAOP,UAAS,IAAKK,aAAY,IAAKC,UAAU;IAClD,CAAC,CACH,CAAC;IAED,SAASE,aAAaA,CAACC,EAAE,EAAE;MACzB,IAAIC,OAAO,CAAC,qCAAqC,CAAC,EAAE;QAClD3B,KAAI,CACD4B,IAAI,CAAC,0CAA0C,EAAE;UAAEF;QAAG,CAAC,EACvDG,IAAI,CAAC,MAAM;UACV1B,YAAY,CAACC,QAAO,GAAID,YAAY,CAACC,QAAQ,CAACY,MAAM,CACjDH,CAAC,IAAKA,CAAC,CAACiB,UAAS,KAAMJ,EAC1B,CAAC;QACH,CAAC,EACAK,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,GAAG,CAAC,CAAC;MACtD;IACF;IAEA,SAASG,WAAWA,CAACtB,CAAC,EAAE;MACtBuB,KAAK,CAAC,GAAGvB,CAAC,CAACK,KAAK,+CAA+C,CAAC;IAClE;IAEA,OAAO;MACLd,QAAQ;MACRE,MAAM;MACNC,gBAAgB;MAChBC,WAAW;MACXC,UAAU;MACVM,gBAAgB;MAChBU,aAAa;MACbU;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}