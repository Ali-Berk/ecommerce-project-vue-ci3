{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport { reactive, ref, computed, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useProductStore } from '../store/ProductsStore';\nexport default {\n  __name: 'DashboardProductEditView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const store = useProductStore();\n    const form = reactive({\n      id: '',\n      title: '',\n      price: 0,\n      category_fk: '',\n      stock: 0,\n      description: '',\n      thumbnail: ''\n    });\n    const message = ref('');\n    const messageType = ref('alert-success');\n    const loading = ref(false);\n    const loaded = ref(false);\n    const categories = computed(() => store.categories || []);\n    function loadProductFromStore() {\n      const id = route.params.id;\n      const p = (store.products || []).find(p => String(p.product_id) === String(id));\n      if (p) {\n        form.id = p.product_id;\n        form.title = p.title ?? '';\n        form.price = p.price ?? 0;\n        form.category_fk = p.category_fk ?? '';\n        form.stock = p.stock ?? 0;\n        form.description = p.description ?? '';\n        form.thumbnail = p.thumbnail ?? '';\n        loaded.value = true;\n      } else {\n        message.value = 'Ürün bulunamadı.';\n        messageType.value = 'alert-danger';\n      }\n    }\n    async function updateProduct() {\n      loading.value = true;\n      try {\n        await store.updateProduct({\n          ...form\n        });\n        messageType.value = 'alert-success';\n        message.value = 'Ürün başarıyla güncellendi.';\n      } catch (err) {\n        console.error(err);\n        messageType.value = 'alert-danger';\n        message.value = 'Güncelleme hatası.';\n      } finally {\n        loading.value = false;\n      }\n    }\n    onMounted(loadProductFromStore);\n    const __returned__ = {\n      route,\n      store,\n      form,\n      message,\n      messageType,\n      loading,\n      loaded,\n      categories,\n      loadProductFromStore,\n      updateProduct,\n      reactive,\n      ref,\n      computed,\n      onMounted,\n      get useRoute() {\n        return useRoute;\n      },\n      get useProductStore() {\n        return useProductStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","computed","onMounted","useRoute","useProductStore","route","store","form","id","title","price","category_fk","stock","description","thumbnail","message","messageType","loading","loaded","categories","loadProductFromStore","params","p","products","find","String","product_id","value","updateProduct","err","console","error"],"sources":["/home/aliberk/Masaüstü/ecommerce/frontend/client/src/views/DashboardProductEditView.vue"],"sourcesContent":["<template>\n  <section class=\"container mt-4\">\n    <h3 class=\"mb-3\">Ürün Düzenle</h3>\n\n    <div v-if=\"message\" :class=\"`alert ${messageType}`\">{{ message }}</div>\n\n    <form v-if=\"loaded\" @submit.prevent=\"updateProduct\">\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Başlık</label>\n        <input v-model=\"form.title\" type=\"text\" class=\"form-control\" required />\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-md-4 mb-3\">\n          <label class=\"form-label\">Fiyat (₺)</label>\n          <input v-model.number=\"form.price\" type=\"number\" step=\"0.01\" class=\"form-control\" required />\n        </div>\n\n        <div class=\"col-md-4 mb-3\">\n          <label class=\"form-label\">Kategori</label>\n          <select v-model=\"form.category_fk\" class=\"form-select\" required>\n            <option value=\"\">Seçin</option>\n            <option v-for=\"c in categories\" :key=\"c.category_id\" :value=\"c.category_id\">\n              {{ c.category_name }}\n            </option>\n          </select>\n        </div>\n\n        <div class=\"col-md-4 mb-3\">\n          <label class=\"form-label\">Stok Adedi</label>\n          <input v-model.number=\"form.stock\" type=\"number\" min=\"0\" class=\"form-control\" />\n        </div>\n      </div>\n\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Açıklama</label>\n        <textarea v-model=\"form.description\" class=\"form-control\" rows=\"3\"></textarea>\n      </div>\n\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Thumbnail (URL)</label>\n        <input v-model=\"form.thumbnail\" type=\"url\" class=\"form-control\" placeholder=\"https://...\" />\n        <img\n          v-if=\"form.thumbnail\"\n          :src=\"form.thumbnail\"\n          class=\"mt-2 border rounded\"\n          style=\"width:150px; height:100px; object-fit:cover;\"\n        />\n      </div>\n\n      <div class=\"d-flex gap-2\">\n        <button class=\"btn btn-primary\" type=\"submit\" :disabled=\"loading\">\n          {{ loading ? 'Güncelleniyor...' : 'Kaydet' }}\n        </button>\n        <router-link class=\"btn btn-secondary\" to=\"/dashboard/products\">Geri</router-link>\n      </div>\n    </form>\n    <p v-else class=\"text-muted\">Yükleniyor...</p>\n    asdadsad\n    {{ route.params.slug }}\n    asdasd\n  </section>\n</template>\n\n<script setup>\nimport { reactive, ref, computed, onMounted } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useProductStore } from '../store/ProductsStore'\n\nconst route = useRoute()\nconst store = useProductStore()\n\nconst form = reactive({\n  id: '',\n  title: '',\n  price: 0,\n  category_fk: '',\n  stock: 0,\n  description: '',\n  thumbnail: ''\n})\n\nconst message = ref('')\nconst messageType = ref('alert-success')\nconst loading = ref(false)\nconst loaded = ref(false)\n\nconst categories = computed(() => store.categories || [])\n\nfunction loadProductFromStore() {\n  const id = route.params.id\n  const p = (store.products || []).find(p => String(p.product_id) === String(id))\n  if (p) {\n    form.id = p.product_id\n    form.title = p.title ?? ''\n    form.price = p.price ?? 0\n    form.category_fk = p.category_fk ?? ''\n    form.stock = p.stock ?? 0\n    form.description = p.description ?? ''\n    form.thumbnail = p.thumbnail ?? ''\n    loaded.value = true\n  } else {\n    message.value = 'Ürün bulunamadı.'\n    messageType.value = 'alert-danger'\n  }\n}\n\nasync function updateProduct() {\n  loading.value = true\n  try {\n    await store.updateProduct({ ...form })\n    messageType.value = 'alert-success'\n    message.value = 'Ürün başarıyla güncellendi.'\n  } catch (err) {\n    console.error(err)\n    messageType.value = 'alert-danger'\n    message.value = 'Güncelleme hatası.'\n  } finally {\n    loading.value = false\n  }\n}\n\nonMounted(loadProductFromStore)\n</script>\n"],"mappings":";;AAiEA,SAASA,QAAQ,EAAEC,GAAG,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,KAAI;AACvD,SAASC,QAAQ,QAAQ,YAAW;AACpC,SAASC,eAAe,QAAQ,wBAAuB;;;;;;;IAEvD,MAAMC,KAAK,GAAGF,QAAQ,CAAC;IACvB,MAAMG,KAAK,GAAGF,eAAe,CAAC;IAE9B,MAAMG,IAAI,GAAGR,QAAQ,CAAC;MACpBS,EAAE,EAAE,EAAE;MACNC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,CAAC;MACRC,WAAW,EAAE,EAAE;MACfC,KAAK,EAAE,CAAC;MACRC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE;IACb,CAAC;IAED,MAAMC,OAAO,GAAGf,GAAG,CAAC,EAAE;IACtB,MAAMgB,WAAW,GAAGhB,GAAG,CAAC,eAAe;IACvC,MAAMiB,OAAO,GAAGjB,GAAG,CAAC,KAAK;IACzB,MAAMkB,MAAM,GAAGlB,GAAG,CAAC,KAAK;IAExB,MAAMmB,UAAU,GAAGlB,QAAQ,CAAC,MAAMK,KAAK,CAACa,UAAU,IAAI,EAAE;IAExD,SAASC,oBAAoBA,CAAA,EAAG;MAC9B,MAAMZ,EAAE,GAAGH,KAAK,CAACgB,MAAM,CAACb,EAAC;MACzB,MAAMc,CAAC,GAAG,CAAChB,KAAK,CAACiB,QAAQ,IAAI,EAAE,EAAEC,IAAI,CAACF,CAAC,IAAIG,MAAM,CAACH,CAAC,CAACI,UAAU,CAAC,KAAKD,MAAM,CAACjB,EAAE,CAAC;MAC9E,IAAIc,CAAC,EAAE;QACLf,IAAI,CAACC,EAAE,GAAGc,CAAC,CAACI,UAAS;QACrBnB,IAAI,CAACE,KAAK,GAAGa,CAAC,CAACb,KAAK,IAAI,EAAC;QACzBF,IAAI,CAACG,KAAK,GAAGY,CAAC,CAACZ,KAAK,IAAI;QACxBH,IAAI,CAACI,WAAW,GAAGW,CAAC,CAACX,WAAW,IAAI,EAAC;QACrCJ,IAAI,CAACK,KAAK,GAAGU,CAAC,CAACV,KAAK,IAAI;QACxBL,IAAI,CAACM,WAAW,GAAGS,CAAC,CAACT,WAAW,IAAI,EAAC;QACrCN,IAAI,CAACO,SAAS,GAAGQ,CAAC,CAACR,SAAS,IAAI,EAAC;QACjCI,MAAM,CAACS,KAAK,GAAG,IAAG;MACpB,CAAC,MAAM;QACLZ,OAAO,CAACY,KAAK,GAAG,kBAAiB;QACjCX,WAAW,CAACW,KAAK,GAAG,cAAa;MACnC;IACF;IAEA,eAAeC,aAAaA,CAAA,EAAG;MAC7BX,OAAO,CAACU,KAAK,GAAG,IAAG;MACnB,IAAI;QACF,MAAMrB,KAAK,CAACsB,aAAa,CAAC;UAAE,GAAGrB;QAAK,CAAC;QACrCS,WAAW,CAACW,KAAK,GAAG,eAAc;QAClCZ,OAAO,CAACY,KAAK,GAAG,6BAA4B;MAC9C,CAAC,CAAC,OAAOE,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAACF,GAAG;QACjBb,WAAW,CAACW,KAAK,GAAG,cAAa;QACjCZ,OAAO,CAACY,KAAK,GAAG,oBAAmB;MACrC,CAAC,SAAS;QACRV,OAAO,CAACU,KAAK,GAAG,KAAI;MACtB;IACF;IAEAzB,SAAS,CAACkB,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}