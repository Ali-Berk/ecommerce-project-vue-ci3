{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"DashboardOrdersView\",\n  data() {\n    return {\n      orders: [],\n      search: \"\",\n      statusFilter: \"\"\n    };\n  },\n  computed: {\n    filteredOrders() {\n      return this.orders.filter(o => {\n        const matchSearch =\n        //   o.user_name.toLowerCase().inclusdes(this.search.toLowerCase()) ||\n        o.order_address.toLowerCase().includes(this.search.toLowerCase());\n        const matchStatus = this.statusFilter ? o.status === this.statusFilter : true;\n        return matchSearch && matchStatus;\n      });\n    }\n  },\n  methods: {\n    async loadOrders() {\n      try {\n        const res = await axios.get(\"http://localhost:8080/api/get_all_orders\");\n        this.orders = res.data.orders;\n      } catch (err) {\n        console.log(\"Siparişler yüklenemedi:\", err);\n      }\n    },\n    deleteOrder(id) {\n      if (confirm(\"Bu siparişi silmek istediğine emin misin?\")) {\n        axios.post(\"http://localhost:8080/api/delete_order\", {\n          id\n        }).then(() => {\n          this.orders = this.orders.filter(o => o.order_id !== id);\n        }).catch(err => console.log(\"Silme hatası:\", err));\n      }\n    },\n    viewDetails(o) {\n      alert(`Sipariş #${o.order_id} detay sayfasına yönlendirilecek (örnek).`);\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString(\"tr-TR\");\n    }\n  },\n  mounted() {\n    this.loadOrders();\n  }\n};","map":{"version":3,"names":["axios","name","data","orders","search","statusFilter","computed","filteredOrders","filter","o","matchSearch","order_address","toLowerCase","includes","matchStatus","status","methods","loadOrders","res","get","err","console","log","deleteOrder","id","confirm","post","then","order_id","catch","viewDetails","alert","formatDate","date","Date","toLocaleString","mounted"],"sources":["/home/aliberk/Masaüstü/ecommerce/frontend/client/src/views/DashboardOrdersView.vue"],"sourcesContent":["<template>\n  <section class=\"container mt-4\">\n    <h3 class=\"mb-3\">Sipariş Yönetimi</h3>\n\n    <div class=\"filters mb-4\">\n      <input v-model=\"search\" placeholder=\"Kullanıcı veya adres ara...\" class=\"form-control mb-2\" />\n      <select v-model=\"statusFilter\" class=\"form-select mb-2\">\n        <option value=\"\">Tüm Durumlar</option>\n        <option value=\"pending\">Beklemede</option>\n        <option value=\"shipped\">Kargolandı</option>\n        <option value=\"completed\">Tamamlandı</option>\n        <option value=\"canceled\">İptal Edildi</option>\n      </select>\n    </div>\n\n    <table class=\"table table-bordered align-middle text-center\">\n      <thead class=\"table-dark\">\n        <tr>\n          <th>ID</th>\n          <th>Kullanıcı</th>\n          <th>Toplam</th>\n          <th>Adres</th>\n          <th>Durum</th>\n          <th>Tarih</th>\n          <th>İşlemler</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"o in filteredOrders\" :key=\"o.order_id\">\n          <td>{{ o.order_id }}</td>\n          <td>{{ o.user_name }}</td>\n          <td>{{ o.price }} ₺</td>\n          <td>{{ o.order_address }}</td>\n          <td>\n            <span\n              :class=\"{\n                'text-warning': o.status === 'pending',\n                'text-primary': o.status === 'shipped',\n                'text-success': o.status === 'completed',\n                'text-danger': o.status === 'canceled'\n              }\"\n            >\n              {{ o.status }}\n            </span>\n          </td>\n          <td>{{ formatDate(o.created_at) }}</td>\n          <td>\n            <button class=\"btn btn-info btn-sm me-2\" @click=\"viewDetails(o)\">Detay</button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"deleteOrder(o.order_id)\">Sil</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <p v-if=\"!filteredOrders.length\" class=\"text-muted mt-3 text-center\">Hiç sipariş bulunamadı.</p>\n  </section>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"DashboardOrdersView\",\n  data() {\n    return {\n      orders: [],\n      search: \"\",\n      statusFilter: \"\"\n    };\n  },\n  computed: {\n    filteredOrders() {\n      return this.orders.filter(o => {\n        const matchSearch =\n        //   o.user_name.toLowerCase().inclusdes(this.search.toLowerCase()) ||\n          o.order_address.toLowerCase().includes(this.search.toLowerCase());\n        const matchStatus = this.statusFilter ? o.status === this.statusFilter : true;\n        return matchSearch && matchStatus;\n      });\n    }\n  },\n  methods: {\n    async loadOrders() {\n      try {\n        const res = await axios.get(\"http://localhost:8080/api/get_all_orders\");\n        this.orders = res.data.orders;\n      } catch (err) {\n        console.log(\"Siparişler yüklenemedi:\", err);\n      }\n    },\n    deleteOrder(id) {\n      if (confirm(\"Bu siparişi silmek istediğine emin misin?\")) {\n        axios\n          .post(\"http://localhost:8080/api/delete_order\", { id })\n          .then(() => {\n            this.orders = this.orders.filter(o => o.order_id !== id);\n          })\n          .catch(err => console.log(\"Silme hatası:\", err));\n      }\n    },\n    viewDetails(o) {\n      alert(`Sipariş #${o.order_id} detay sayfasına yönlendirilecek (örnek).`);\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString(\"tr-TR\");\n    }\n  },\n  mounted() {\n    this.loadOrders();\n  }\n};\n</script>\n\n<style scoped>\n.filters {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 10px;\n}\n</style>\n"],"mappings":";;AA2DA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,qBAAqB;EAC3BC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,MAAM,EAAE,EAAE;MACVC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,cAAcA,CAAA,EAAG;MACf,OAAO,IAAI,CAACJ,MAAM,CAACK,MAAM,CAACC,CAAA,IAAK;QAC7B,MAAMC,WAAU;QAChB;QACED,CAAC,CAACE,aAAa,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACT,MAAM,CAACQ,WAAW,CAAC,CAAC,CAAC;QACnE,MAAME,WAAU,GAAI,IAAI,CAACT,YAAW,GAAII,CAAC,CAACM,MAAK,KAAM,IAAI,CAACV,YAAW,GAAI,IAAI;QAC7E,OAAOK,WAAU,IAAKI,WAAW;MACnC,CAAC,CAAC;IACJ;EACF,CAAC;EACDE,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMC,GAAE,GAAI,MAAMlB,KAAK,CAACmB,GAAG,CAAC,0CAA0C,CAAC;QACvE,IAAI,CAAChB,MAAK,GAAIe,GAAG,CAAChB,IAAI,CAACC,MAAM;MAC/B,EAAE,OAAOiB,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEF,GAAG,CAAC;MAC7C;IACF,CAAC;IACDG,WAAWA,CAACC,EAAE,EAAE;MACd,IAAIC,OAAO,CAAC,2CAA2C,CAAC,EAAE;QACxDzB,KAAI,CACD0B,IAAI,CAAC,wCAAwC,EAAE;UAAEF;QAAG,CAAC,EACrDG,IAAI,CAAC,MAAM;UACV,IAAI,CAACxB,MAAK,GAAI,IAAI,CAACA,MAAM,CAACK,MAAM,CAACC,CAAA,IAAKA,CAAC,CAACmB,QAAO,KAAMJ,EAAE,CAAC;QAC1D,CAAC,EACAK,KAAK,CAACT,GAAE,IAAKC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,GAAG,CAAC,CAAC;MACpD;IACF,CAAC;IACDU,WAAWA,CAACrB,CAAC,EAAE;MACbsB,KAAK,CAAC,YAAYtB,CAAC,CAACmB,QAAQ,2CAA2C,CAAC;IAC1E,CAAC;IACDI,UAAUA,CAACC,IAAI,EAAE;MACf,OAAO,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,cAAc,CAAC,OAAO,CAAC;IAC/C;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACnB,UAAU,CAAC,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}