{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"filters mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"table table-bordered align-middle text-center\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  key: 0,\n  class: \"text-muted mt-3 text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h3\", {\n    class: \"mb-3\"\n  }, \"Sipariş Yönetimi\", -1 /* CACHED */)), _createCommentVNode(\" Filtre Alanı \"), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.search = $event),\n    placeholder: \"Kullanıcı veya adres ara...\",\n    class: \"form-control mb-2\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.search]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.statusFilter = $event),\n    class: \"form-select mb-2\"\n  }, [...(_cache[2] || (_cache[2] = [_createStaticVNode(\"<option value=\\\"\\\" data-v-08f7a0d8>Tüm Durumlar</option><option value=\\\"pending\\\" data-v-08f7a0d8>Beklemede</option><option value=\\\"shipped\\\" data-v-08f7a0d8>Kargolandı</option><option value=\\\"completed\\\" data-v-08f7a0d8>Tamamlandı</option><option value=\\\"canceled\\\" data-v-08f7a0d8>İptal Edildi</option>\", 5)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.statusFilter]])]), _createCommentVNode(\" Sipariş Tablosu \"), _createElementVNode(\"table\", _hoisted_3, [_cache[3] || (_cache[3] = _createElementVNode(\"thead\", {\n    class: \"table-dark\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Kullanıcı\"), _createElementVNode(\"th\", null, \"Toplam Tutar\"), _createElementVNode(\"th\", null, \"Adres\"), _createElementVNode(\"th\", null, \"Durum\"), _createElementVNode(\"th\", null, \"Tarih\"), _createElementVNode(\"th\", null, \"İşlemler\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredOrders, o => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: o.order_id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(o.order_id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(o.user_name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(o.price) + \" ₺\", 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(o.order_address), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: _normalizeClass({\n        'text-warning': o.status === 'pending',\n        'text-primary': o.status === 'shipped',\n        'text-success': o.status === 'completed',\n        'text-danger': o.status === 'canceled'\n      })\n    }, _toDisplayString(o.status), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", null, _toDisplayString($setup.formatDate(o.created_at)), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-info btn-sm me-2\",\n      onClick: $event => $setup.viewDetails(o)\n    }, \" Detay \", 8 /* PROPS */, _hoisted_4), _createElementVNode(\"button\", {\n      class: \"btn btn-danger btn-sm\",\n      onClick: $event => $setup.deleteOrder(o.order_id)\n    }, \" Sil \", 8 /* PROPS */, _hoisted_5)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), !$setup.filteredOrders.length ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, \" Hiç sipariş bulunamadı. \")) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","$setup","search","$event","placeholder","statusFilter","_hoisted_3","_Fragment","_renderList","filteredOrders","o","key","order_id","_toDisplayString","user_name","price","order_address","_normalizeClass","status","formatDate","created_at","onClick","viewDetails","_hoisted_4","deleteOrder","_hoisted_5","length","_hoisted_6"],"sources":["/home/aliberk/Masaüstü/ecommerce/frontend/client/src/views/DashboardOrdersView.vue"],"sourcesContent":["<template>\n  <section class=\"container mt-4\">\n    <h3 class=\"mb-3\">Sipariş Yönetimi</h3>\n\n    <!-- Filtre Alanı -->\n    <div class=\"filters mb-4\">\n      <input\n        v-model=\"search\"\n        placeholder=\"Kullanıcı veya adres ara...\"\n        class=\"form-control mb-2\"\n      />\n      <select v-model=\"statusFilter\" class=\"form-select mb-2\">\n        <option value=\"\">Tüm Durumlar</option>\n        <option value=\"pending\">Beklemede</option>\n        <option value=\"shipped\">Kargolandı</option>\n        <option value=\"completed\">Tamamlandı</option>\n        <option value=\"canceled\">İptal Edildi</option>\n      </select>\n    </div>\n\n    <!-- Sipariş Tablosu -->\n    <table class=\"table table-bordered align-middle text-center\">\n      <thead class=\"table-dark\">\n        <tr>\n          <th>ID</th>\n          <th>Kullanıcı</th>\n          <th>Toplam Tutar</th>\n          <th>Adres</th>\n          <th>Durum</th>\n          <th>Tarih</th>\n          <th>İşlemler</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"o in filteredOrders\" :key=\"o.order_id\">\n          <td>{{ o.order_id }}</td>\n          <td>{{ o.user_name }}</td>\n          <td>{{ o.price }} ₺</td>\n          <td>{{ o.order_address }}</td>\n          <td>\n            <span\n              :class=\"{\n                'text-warning': o.status === 'pending',\n                'text-primary': o.status === 'shipped',\n                'text-success': o.status === 'completed',\n                'text-danger': o.status === 'canceled',\n              }\"\n            >\n              {{ o.status }}\n            </span>\n          </td>\n          <td>{{ formatDate(o.created_at) }}</td>\n          <td>\n            <button class=\"btn btn-info btn-sm me-2\" @click=\"viewDetails(o)\">\n              Detay\n            </button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"deleteOrder(o.order_id)\">\n              Sil\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <p v-if=\"!filteredOrders.length\" class=\"text-muted mt-3 text-center\">\n      Hiç sipariş bulunamadı.\n    </p>\n  </section>\n</template>\n\n<script>\nimport { onMounted, ref, computed } from \"vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"DashboardOrdersView\",\n\n  setup() {\n    const orders = ref([]);\n    const search = ref(\"\");\n    const statusFilter = ref(\"\");\n\n    async function loadOrders() {\n      try {\n        const res = await axios.get(\"http://localhost:8080/api/get_all_orders\");\n        orders.value = res.data;\n      } catch (err) {\n        console.log(\"Siparişler yüklenemedi:\", err);\n      }\n    }\n\n    onMounted(() => {\n      loadOrders();\n    });\n\n    const filteredOrders = computed(() =>\n      orders.value.filter((o) => {\n        const matchSearch =\n          o.user_name.toLowerCase().includes(search.value.toLowerCase()) ||\n          o.order_address.toLowerCase().includes(search.value.toLowerCase());\n        const matchStatus = statusFilter.value\n          ? o.status === statusFilter.value\n          : true;\n        return matchSearch && matchStatus;\n      })\n    );\n\n    function deleteOrder(id) {\n      if (confirm(\"Bu siparişi silmek istediğine emin misin?\")) {\n        axios\n          .post(\"http://localhost:8080/api/delete_order\", { id })\n          .then(() => {\n            orders.value = orders.value.filter((o) => o.order_id !== id);\n          })\n          .catch((err) => console.log(\"Silme hatası:\", err));\n      }\n    }\n\n    function viewDetails(o) {\n      alert(`Sipariş #${o.order_id} detay sayfasına yönlendirilecek (örnek).`);\n    }\n\n    function formatDate(date) {\n      return new Date(date).toLocaleString(\"tr-TR\");\n    }\n\n    return {\n      orders,\n      search,\n      statusFilter,\n      filteredOrders,\n      deleteOrder,\n      viewDetails,\n      formatDate,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.filters {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 10px;\n}\n</style>\n"],"mappings":";;EACWA,KAAK,EAAC;AAAgB;;EAIxBA,KAAK,EAAC;AAAc;;EAgBlBA,KAAK,EAAC;AAA+C;;;;;EA2C3BA,KAAK,EAAC;;;uBA/DzCC,mBAAA,CAkEU,WAlEVC,UAkEU,G,0BAjERC,mBAAA,CAAsC;IAAlCH,KAAK,EAAC;EAAM,GAAC,kBAAgB,qBAEjCI,mBAAA,kBAAqB,EACrBD,mBAAA,CAaM,OAbNE,UAaM,G,gBAZJF,mBAAA,CAIE;+DAHSG,MAAA,CAAAC,MAAM,GAAAC,MAAA;IACfC,WAAW,EAAC,6BAA6B;IACzCT,KAAK,EAAC;iDAFGM,MAAA,CAAAC,MAAM,E,mBAIjBJ,mBAAA,CAMS;+DANQG,MAAA,CAAAI,YAAY,GAAAF,MAAA;IAAER,KAAK,EAAC;4ZAApBM,MAAA,CAAAI,YAAY,E,KAS/BN,mBAAA,qBAAwB,EACxBD,mBAAA,CAyCQ,SAzCRQ,UAyCQ,G,0BAxCNR,mBAAA,CAUQ;IAVDH,KAAK,EAAC;EAAY,IACvBG,mBAAA,CAQK,aAPHA,mBAAA,CAAW,YAAP,IAAE,GACNA,mBAAA,CAAkB,YAAd,WAAS,GACbA,mBAAA,CAAqB,YAAjB,cAAY,GAChBA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAiB,YAAb,UAAQ,E,uBAGhBA,mBAAA,CA4BQ,iB,kBA3BNF,mBAAA,CA0BKW,SAAA,QAAAC,WAAA,CA1BWP,MAAA,CAAAQ,cAAc,EAAnBC,CAAC;yBAAZd,mBAAA,CA0BK;MA1B4Be,GAAG,EAAED,CAAC,CAACE;QACtCd,mBAAA,CAAyB,YAAAe,gBAAA,CAAlBH,CAAC,CAACE,QAAQ,kBACjBd,mBAAA,CAA0B,YAAAe,gBAAA,CAAnBH,CAAC,CAACI,SAAS,kBAClBhB,mBAAA,CAAwB,YAAAe,gBAAA,CAAjBH,CAAC,CAACK,KAAK,IAAG,IAAE,iBACnBjB,mBAAA,CAA8B,YAAAe,gBAAA,CAAvBH,CAAC,CAACM,aAAa,kBACtBlB,mBAAA,CAWK,aAVHA,mBAAA,CASO;MARJH,KAAK,EAAAsB,eAAA;wBAAoCP,CAAC,CAACQ,MAAM;wBAAgDR,CAAC,CAACQ,MAAM;wBAAgDR,CAAC,CAACQ,MAAM;uBAAiDR,CAAC,CAACQ,MAAM;;wBAOxNR,CAAC,CAACQ,MAAM,wB,GAGfpB,mBAAA,CAAuC,YAAAe,gBAAA,CAAhCZ,MAAA,CAAAkB,UAAU,CAACT,CAAC,CAACU,UAAU,mBAC9BtB,mBAAA,CAOK,aANHA,mBAAA,CAES;MAFDH,KAAK,EAAC,0BAA0B;MAAE0B,OAAK,EAAAlB,MAAA,IAAEF,MAAA,CAAAqB,WAAW,CAACZ,CAAC;OAAG,SAEjE,iBAAAa,UAAA,GACAzB,mBAAA,CAES;MAFDH,KAAK,EAAC,uBAAuB;MAAE0B,OAAK,EAAAlB,MAAA,IAAEF,MAAA,CAAAuB,WAAW,CAACd,CAAC,CAACE,QAAQ;OAAG,OAEvE,iBAAAa,UAAA,E;uCAMExB,MAAA,CAAAQ,cAAc,CAACiB,MAAM,I,cAA/B9B,mBAAA,CAEI,KAFJ+B,UAEI,EAFiE,2BAErE,K","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}