{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"filters mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"table table-bordered align-middle text-center\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  key: 0,\n  class: \"text-muted mt-3 text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h3\", {\n    class: \"mb-3\"\n  }, \"Sipariş Yönetimi\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.search = $event),\n    placeholder: \"Kullanıcı veya adres ara...\",\n    class: \"form-control mb-2\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.search]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.statusFilter = $event),\n    class: \"form-select mb-2\"\n  }, [...(_cache[2] || (_cache[2] = [_createStaticVNode(\"<option value=\\\"\\\" data-v-08f7a0d8>Tüm Durumlar</option><option value=\\\"pending\\\" data-v-08f7a0d8>Beklemede</option><option value=\\\"shipped\\\" data-v-08f7a0d8>Kargolandı</option><option value=\\\"completed\\\" data-v-08f7a0d8>Tamamlandı</option><option value=\\\"canceled\\\" data-v-08f7a0d8>İptal Edildi</option>\", 5)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.statusFilter]])]), _createElementVNode(\"table\", _hoisted_3, [_cache[3] || (_cache[3] = _createElementVNode(\"thead\", {\n    class: \"table-dark\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Kullanıcı\"), _createElementVNode(\"th\", null, \"Toplam\"), _createElementVNode(\"th\", null, \"Adres\"), _createElementVNode(\"th\", null, \"Durum\"), _createElementVNode(\"th\", null, \"Tarih\"), _createElementVNode(\"th\", null, \"İşlemler\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredOrders, o => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: o.order_id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(o.order_id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(o.user_name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(o.price) + \" ₺\", 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(o.order_address), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: _normalizeClass({\n        'text-warning': o.status === 'pending',\n        'text-primary': o.status === 'shipped',\n        'text-success': o.status === 'completed',\n        'text-danger': o.status === 'canceled'\n      })\n    }, _toDisplayString(o.status), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(o.created_at)), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-info btn-sm me-2\",\n      onClick: $event => $options.viewDetails(o)\n    }, \"Detay\", 8 /* PROPS */, _hoisted_4), _createElementVNode(\"button\", {\n      class: \"btn btn-danger btn-sm\",\n      onClick: $event => $options.deleteOrder(o.order_id)\n    }, \"Sil\", 8 /* PROPS */, _hoisted_5)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), !$options.filteredOrders.length ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, \"Hiç sipariş bulunamadı.\")) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","search","$event","placeholder","statusFilter","_hoisted_3","_Fragment","_renderList","$options","filteredOrders","o","key","order_id","_toDisplayString","user_name","price","order_address","_normalizeClass","status","formatDate","created_at","onClick","viewDetails","_hoisted_4","deleteOrder","_hoisted_5","length","_hoisted_6"],"sources":["/home/aliberk/Masaüstü/ecommerce/frontend/client/src/views/DashboardOrdersView.vue"],"sourcesContent":["<template>\n  <section class=\"container mt-4\">\n    <h3 class=\"mb-3\">Sipariş Yönetimi</h3>\n\n    <div class=\"filters mb-4\">\n      <input v-model=\"search\" placeholder=\"Kullanıcı veya adres ara...\" class=\"form-control mb-2\" />\n      <select v-model=\"statusFilter\" class=\"form-select mb-2\">\n        <option value=\"\">Tüm Durumlar</option>\n        <option value=\"pending\">Beklemede</option>\n        <option value=\"shipped\">Kargolandı</option>\n        <option value=\"completed\">Tamamlandı</option>\n        <option value=\"canceled\">İptal Edildi</option>\n      </select>\n    </div>\n\n    <table class=\"table table-bordered align-middle text-center\">\n      <thead class=\"table-dark\">\n        <tr>\n          <th>ID</th>\n          <th>Kullanıcı</th>\n          <th>Toplam</th>\n          <th>Adres</th>\n          <th>Durum</th>\n          <th>Tarih</th>\n          <th>İşlemler</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"o in filteredOrders\" :key=\"o.order_id\">\n          <td>{{ o.order_id }}</td>\n          <td>{{ o.user_name }}</td>\n          <td>{{ o.price }} ₺</td>\n          <td>{{ o.order_address }}</td>\n          <td>\n            <span\n              :class=\"{\n                'text-warning': o.status === 'pending',\n                'text-primary': o.status === 'shipped',\n                'text-success': o.status === 'completed',\n                'text-danger': o.status === 'canceled'\n              }\"\n            >\n              {{ o.status }}\n            </span>\n          </td>\n          <td>{{ formatDate(o.created_at) }}</td>\n          <td>\n            <button class=\"btn btn-info btn-sm me-2\" @click=\"viewDetails(o)\">Detay</button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"deleteOrder(o.order_id)\">Sil</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <p v-if=\"!filteredOrders.length\" class=\"text-muted mt-3 text-center\">Hiç sipariş bulunamadı.</p>\n  </section>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"DashboardOrdersView\",\n  data() {\n    return {\n      orders: [],\n      search: \"\",\n      statusFilter: \"\"\n    };\n  },\n  computed: {\n    filteredOrders() {\n      return this.orders.filter(o => {\n        const matchSearch =\n          o.user_name.toLowerCase().inclusdes(this.search.toLowerCase()) ||\n          o.order_address.toLowerCase().includes(this.search.toLowerCase());\n        const matchStatus = this.statusFilter ? o.status === this.statusFilter : true;\n        return matchSearch && matchStatus;\n      });\n    }\n  },\n  methods: {\n    async loadOrders() {\n      try {\n        const res = await axios.get(\"http://localhost:8080/api/get_all_orders\");\n        this.orders = res.data.orders;\n      } catch (err) {\n        console.log(\"Siparişler yüklenemedi:\", err);\n      }\n    },\n    deleteOrder(id) {\n      if (confirm(\"Bu siparişi silmek istediğine emin misin?\")) {\n        axios\n          .post(\"http://localhost:8080/api/delete_order\", { id })\n          .then(() => {\n            this.orders = this.orders.filter(o => o.order_id !== id);\n          })\n          .catch(err => console.log(\"Silme hatası:\", err));\n      }\n    },\n    viewDetails(o) {\n      alert(`Sipariş #${o.order_id} detay sayfasına yönlendirilecek (örnek).`);\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString(\"tr-TR\");\n    }\n  },\n  mounted() {\n    this.loadOrders();\n  }\n};\n</script>\n\n<style scoped>\n.filters {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 10px;\n}\n</style>\n"],"mappings":";;EACWA,KAAK,EAAC;AAAgB;;EAGxBA,KAAK,EAAC;AAAc;;EAWlBA,KAAK,EAAC;AAA+C;;;;;EAuC3BA,KAAK,EAAC;;;uBArDzCC,mBAAA,CAsDU,WAtDVC,UAsDU,G,0BArDRC,mBAAA,CAAsC;IAAlCH,KAAK,EAAC;EAAM,GAAC,kBAAgB,qBAEjCG,mBAAA,CASM,OATNC,UASM,G,gBARJD,mBAAA,CAA8F;+DAA9EE,KAAA,CAAAC,MAAM,GAAAC,MAAA;IAAEC,WAAW,EAAC,6BAA6B;IAACR,KAAK,EAAC;iDAAxDK,KAAA,CAAAC,MAAM,E,mBACtBH,mBAAA,CAMS;+DANQE,KAAA,CAAAI,YAAY,GAAAF,MAAA;IAAEP,KAAK,EAAC;4ZAApBK,KAAA,CAAAI,YAAY,E,KAS/BN,mBAAA,CAqCQ,SArCRO,UAqCQ,G,0BApCNP,mBAAA,CAUQ;IAVDH,KAAK,EAAC;EAAY,IACvBG,mBAAA,CAQK,aAPHA,mBAAA,CAAW,YAAP,IAAE,GACNA,mBAAA,CAAkB,YAAd,WAAS,GACbA,mBAAA,CAAe,YAAX,QAAM,GACVA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAc,YAAV,OAAK,GACTA,mBAAA,CAAiB,YAAb,UAAQ,E,uBAGhBA,mBAAA,CAwBQ,iB,kBAvBNF,mBAAA,CAsBKU,SAAA,QAAAC,WAAA,CAtBWC,QAAA,CAAAC,cAAc,EAAnBC,CAAC;yBAAZd,mBAAA,CAsBK;MAtB4Be,GAAG,EAAED,CAAC,CAACE;QACtCd,mBAAA,CAAyB,YAAAe,gBAAA,CAAlBH,CAAC,CAACE,QAAQ,kBACjBd,mBAAA,CAA0B,YAAAe,gBAAA,CAAnBH,CAAC,CAACI,SAAS,kBAClBhB,mBAAA,CAAwB,YAAAe,gBAAA,CAAjBH,CAAC,CAACK,KAAK,IAAG,IAAE,iBACnBjB,mBAAA,CAA8B,YAAAe,gBAAA,CAAvBH,CAAC,CAACM,aAAa,kBACtBlB,mBAAA,CAWK,aAVHA,mBAAA,CASO;MARJH,KAAK,EAAAsB,eAAA;wBAAoCP,CAAC,CAACQ,MAAM;wBAAgDR,CAAC,CAACQ,MAAM;wBAAgDR,CAAC,CAACQ,MAAM;uBAAiDR,CAAC,CAACQ,MAAM;;wBAOxNR,CAAC,CAACQ,MAAM,wB,GAGfpB,mBAAA,CAAuC,YAAAe,gBAAA,CAAhCL,QAAA,CAAAW,UAAU,CAACT,CAAC,CAACU,UAAU,mBAC9BtB,mBAAA,CAGK,aAFHA,mBAAA,CAA+E;MAAvEH,KAAK,EAAC,0BAA0B;MAAE0B,OAAK,EAAAnB,MAAA,IAAEM,QAAA,CAAAc,WAAW,CAACZ,CAAC;OAAG,OAAK,iBAAAa,UAAA,GACtEzB,mBAAA,CAAmF;MAA3EH,KAAK,EAAC,uBAAuB;MAAE0B,OAAK,EAAAnB,MAAA,IAAEM,QAAA,CAAAgB,WAAW,CAACd,CAAC,CAACE,QAAQ;OAAG,KAAG,iBAAAa,UAAA,E;uCAMxEjB,QAAA,CAAAC,cAAc,CAACiB,MAAM,I,cAA/B9B,mBAAA,CAAgG,KAAhG+B,UAAgG,EAA3B,yBAAuB,K","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}