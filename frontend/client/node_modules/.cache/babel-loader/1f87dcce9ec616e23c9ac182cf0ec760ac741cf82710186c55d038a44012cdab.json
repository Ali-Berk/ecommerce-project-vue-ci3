{"ast":null,"code":"import { ref } from 'vue';\nimport axios from 'axios';\nexport default {\n  __name: 'SettingsView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const form = ref({\n      name: '',\n      email: ''\n    });\n    const passwords = ref({\n      current: '',\n      new: '',\n      confirm: ''\n    });\n    const preferences = ref({\n      notifications: true,\n      darkMode: false\n    });\n    const updateProfile = async () => {\n      try {\n        await axios.post(\"http://localhost:8080/api/update_profile\", form.value, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          withCredentials: true\n        });\n        alert('Profil bilgileri başarıyla güncellendi.');\n        console.log(form.value);\n      } catch (error) {\n        console.error(error);\n        alert('Profil güncellenirken bir hata oluştu.');\n      }\n    };\n    const updatePassword = async () => {\n      if (passwords.value.new !== passwords.value.confirm) {\n        alert('Yeni şifreler eşleşmiyor.');\n        return;\n      }\n      try {\n        await axios.post('/api/update-password', passwords.value);\n        alert('Şifre başarıyla güncellendi.');\n      } catch (error) {\n        console.error(error);\n        alert('Şifre güncellenirken bir hata oluştu.');\n      }\n    };\n    const savePreferences = async () => {\n      try {\n        await axios.post('/api/save-preferences', preferences.value);\n        alert('Tercihler kaydedildi.');\n      } catch (error) {\n        console.error(error);\n        alert('Tercihler kaydedilirken hata oluştu.');\n      }\n    };\n    const __returned__ = {\n      form,\n      passwords,\n      preferences,\n      updateProfile,\n      updatePassword,\n      savePreferences,\n      ref,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","form","name","email","passwords","current","new","confirm","preferences","notifications","darkMode","updateProfile","post","value","headers","withCredentials","alert","console","log","error","updatePassword","savePreferences"],"sources":["/home/aliberk/Masaüstü/ecommerce/frontend/client/src/views/SettingsView.vue"],"sourcesContent":["<template>\n  <section class=\"settings-page container my-5\">\n    <h2 class=\"mb-4 fw-semibold\">Hesap Ayarları</h2>\n\n    <div class=\"row g-4\">\n      <!-- SOL KISIM: Profil Bilgileri -->\n      <div class=\"col-md-6\">\n        <div class=\"card shadow-sm border-0\">\n          <div class=\"card-header bg-white fw-semibold\">\n            Profil Bilgileri\n          </div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"updateProfile\">\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Ad Soyad</label>\n                <input type=\"text\" v-model=\"form.name\" class=\"form-control\" placeholder=\"Adınızı girin\" />\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">E-posta</label>\n                <input type=\"email\" v-model=\"form.email\" class=\"form-control\" placeholder=\"E-posta adresiniz\" />\n              </div>\n\n              <div class=\"text-end\">\n                <button class=\"btn btn-primary px-4\" type=\"submit\">Güncelle</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n\n      <!-- SAĞ KISIM: Şifre Değiştir -->\n      <div class=\"col-md-6\">\n        <div class=\"card shadow-sm border-0\">\n          <div class=\"card-header bg-white fw-semibold\">\n            Şifre Değiştir\n          </div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"updatePassword\">\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Mevcut Şifre</label>\n                <input type=\"password\" v-model=\"passwords.current\" class=\"form-control\" />\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Yeni Şifre</label>\n                <input type=\"password\" v-model=\"passwords.new\" class=\"form-control\" />\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Yeni Şifre (Tekrar)</label>\n                <input type=\"password\" v-model=\"passwords.confirm\" class=\"form-control\" />\n              </div>\n\n              <div class=\"text-end\">\n                <button class=\"btn btn-warning px-4\" type=\"submit\">Şifreyi Güncelle</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card shadow-sm border-0 mt-4\">\n      <div class=\"card-header bg-white fw-semibold\">\n        Kullanıcı Tercihleri\n      </div>\n      <div class=\"card-body\">\n        <div class=\"form-check form-switch mb-3\">\n          <input class=\"form-check-input\" type=\"checkbox\" v-model=\"preferences.notifications\" id=\"notificationsSwitch\" />\n          <label class=\"form-check-label\" for=\"notificationsSwitch\">\n            Bildirimleri etkinleştir\n          </label>\n        </div>\n\n        <div class=\"form-check form-switch\">\n          <input class=\"form-check-input\" type=\"checkbox\" v-model=\"preferences.darkMode\" id=\"darkModeSwitch\" />\n          <label class=\"form-check-label\" for=\"darkModeSwitch\">\n            Karanlık tema\n          </label>\n        </div>\n\n        <div class=\"text-end mt-3\">\n          <button class=\"btn btn-success px-4\" @click=\"savePreferences\">\n            Tercihleri Kaydet\n          </button>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport axios from 'axios'\n\nconst form = ref({\n  name: '',\n  email: '',\n})\n\nconst passwords = ref({\n  current: '',\n  new: '',\n  confirm: '',\n})\n\nconst preferences = ref({\n  notifications: true,\n  darkMode: false,\n})\n\nconst updateProfile = async () => {\n  try {\n    await axios.post(\"http://localhost:8080/api/update_profile\", form.value, {headers: { \"Content-Type\": \"application/json\" }, withCredentials: true});\n\n    alert('Profil bilgileri başarıyla güncellendi.');\n    console.log(form.value);\n  } catch (error) {\n    console.error(error)\n    alert('Profil güncellenirken bir hata oluştu.')\n  }\n}\n\nconst updatePassword = async () => {\n  if (passwords.value.new !== passwords.value.confirm) {\n    alert('Yeni şifreler eşleşmiyor.')\n    return\n  }\n  try {\n    await axios.post('/api/update-password', passwords.value)\n    alert('Şifre başarıyla güncellendi.')\n  } catch (error) {\n    console.error(error)\n    alert('Şifre güncellenirken bir hata oluştu.')\n  }\n}\n\nconst savePreferences = async () => {\n  try {\n    await axios.post('/api/save-preferences', preferences.value)\n    alert('Tercihler kaydedildi.')\n  } catch (error) {\n    console.error(error)\n    alert('Tercihler kaydedilirken hata oluştu.')\n  }\n}\n</script>\n\n<style scoped>\n.settings-page h2 {\n  font-weight: 600;\n}\n.card {\n  border-radius: 12px;\n}\n.form-label {\n  font-weight: 500;\n}\n</style>\n"],"mappings":"AA6FA,SAASA,GAAG,QAAQ,KAAI;AACxB,OAAOC,KAAK,MAAM,OAAM;;;;;;;IAExB,MAAMC,IAAI,GAAGF,GAAG,CAAC;MACfG,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE;IACT,CAAC;IAED,MAAMC,SAAS,GAAGL,GAAG,CAAC;MACpBM,OAAO,EAAE,EAAE;MACXC,GAAG,EAAE,EAAE;MACPC,OAAO,EAAE;IACX,CAAC;IAED,MAAMC,WAAW,GAAGT,GAAG,CAAC;MACtBU,aAAa,EAAE,IAAI;MACnBC,QAAQ,EAAE;IACZ,CAAC;IAED,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMX,KAAK,CAACY,IAAI,CAAC,0CAA0C,EAAEX,IAAI,CAACY,KAAK,EAAE;UAACC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB,CAAC;UAAEC,eAAe,EAAE;QAAI,CAAC,CAAC;QAElJC,KAAK,CAAC,yCAAyC,CAAC;QAChDC,OAAO,CAACC,GAAG,CAACjB,IAAI,CAACY,KAAK,CAAC;MACzB,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAACA,KAAK;QACnBH,KAAK,CAAC,wCAAwC;MAChD;IACF;IAEA,MAAMI,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAIhB,SAAS,CAACS,KAAK,CAACP,GAAG,KAAKF,SAAS,CAACS,KAAK,CAACN,OAAO,EAAE;QACnDS,KAAK,CAAC,2BAA2B;QACjC;MACF;MACA,IAAI;QACF,MAAMhB,KAAK,CAACY,IAAI,CAAC,sBAAsB,EAAER,SAAS,CAACS,KAAK;QACxDG,KAAK,CAAC,8BAA8B;MACtC,CAAC,CAAC,OAAOG,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAACA,KAAK;QACnBH,KAAK,CAAC,uCAAuC;MAC/C;IACF;IAEA,MAAMK,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClC,IAAI;QACF,MAAMrB,KAAK,CAACY,IAAI,CAAC,uBAAuB,EAAEJ,WAAW,CAACK,KAAK;QAC3DG,KAAK,CAAC,uBAAuB;MAC/B,CAAC,CAAC,OAAOG,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAACA,KAAK;QACnBH,KAAK,CAAC,sCAAsC;MAC9C;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}