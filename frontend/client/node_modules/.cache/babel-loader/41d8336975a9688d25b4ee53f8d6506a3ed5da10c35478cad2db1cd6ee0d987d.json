{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { onMounted, ref, computed } from \"vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"DashboardOrdersView\",\n  setup() {\n    const orders = ref([]);\n    const search = ref(\"\");\n    const statusFilter = ref(\"\");\n    async function loadOrders() {\n      try {\n        const res = await axios.get(\"http://localhost:8080/api/get_all_orders\");\n        orders.value = res.data;\n      } catch (err) {\n        console.log(\"Siparişler yüklenemedi:\", err);\n      }\n    }\n    onMounted(() => {\n      loadOrders();\n    });\n    const filteredOrders = computed(() => orders.value.filter(o => {\n      const matchSearch = o.user_name.toLowerCase().includes(search.value.toLowerCase()) || o.order_address.toLowerCase().includes(search.value.toLowerCase());\n      const matchStatus = statusFilter.value ? o.status === statusFilter.value : true;\n      return matchSearch && matchStatus;\n    }));\n    function deleteOrder(id) {\n      if (confirm(\"Bu siparişi silmek istediğine emin misin?\")) {\n        axios.post(\"http://localhost:8080/api/delete_order\", {\n          id\n        }).then(() => {\n          orders.value = orders.value.filter(o => o.order_id !== id);\n        }).catch(err => console.log(\"Silme hatası:\", err));\n      }\n    }\n    function viewDetails(o) {\n      alert(`Sipariş #${o.order_id} detay sayfasına yönlendirilecek (örnek).`);\n    }\n    function formatDate(date) {\n      return new Date(date).toLocaleString(\"tr-TR\");\n    }\n    return {\n      orders,\n      search,\n      statusFilter,\n      filteredOrders,\n      deleteOrder,\n      viewDetails,\n      formatDate\n    };\n  }\n};","map":{"version":3,"names":["onMounted","ref","computed","axios","name","setup","orders","search","statusFilter","loadOrders","res","get","value","data","err","console","log","filteredOrders","filter","o","matchSearch","user_name","toLowerCase","includes","order_address","matchStatus","status","deleteOrder","id","confirm","post","then","order_id","catch","viewDetails","alert","formatDate","date","Date","toLocaleString"],"sources":["/home/aliberk/Masaüstü/ecommerce/frontend/client/src/views/DashboardOrdersView.vue"],"sourcesContent":["<template>\n  <section class=\"container mt-4\">\n    <h3 class=\"mb-3\">Sipariş Yönetimi</h3>\n\n    <!-- Filtre Alanı -->\n    <div class=\"filters mb-4\">\n      <input\n        v-model=\"search\"\n        placeholder=\"Kullanıcı veya adres ara...\"\n        class=\"form-control mb-2\"\n      />\n      <select v-model=\"statusFilter\" class=\"form-select mb-2\">\n        <option value=\"\">Tüm Durumlar</option>\n        <option value=\"pending\">Beklemede</option>\n        <option value=\"shipped\">Kargolandı</option>\n        <option value=\"completed\">Tamamlandı</option>\n        <option value=\"canceled\">İptal Edildi</option>\n      </select>\n    </div>\n\n    <!-- Sipariş Tablosu -->\n    <table class=\"table table-bordered align-middle text-center\">\n      <thead class=\"table-dark\">\n        <tr>\n          <th>ID</th>\n          <th>Kullanıcı</th>\n          <th>Toplam Tutar</th>\n          <th>Adres</th>\n          <th>Durum</th>\n          <th>Tarih</th>\n          <th>İşlemler</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"o in filteredOrders\" :key=\"o.order_id\">\n          <td>{{ o.order_id }}</td>\n          <td>{{ o.user_name }}</td>\n          <td>{{ o.price }} ₺</td>\n          <td>{{ o.order_address }}</td>\n          <td>\n            <span\n              :class=\"{\n                'text-warning': o.status === 'pending',\n                'text-primary': o.status === 'shipped',\n                'text-success': o.status === 'completed',\n                'text-danger': o.status === 'canceled',\n              }\"\n            >\n              {{ o.status }}\n            </span>\n          </td>\n          <td>{{ formatDate(o.created_at) }}</td>\n          <td>\n            <button class=\"btn btn-info btn-sm me-2\" @click=\"viewDetails(o)\">\n              Detay\n            </button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"deleteOrder(o.order_id)\">\n              Sil\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <p v-if=\"!filteredOrders.length\" class=\"text-muted mt-3 text-center\">\n      Hiç sipariş bulunamadı.\n    </p>\n  </section>\n</template>\n\n<script>\nimport { onMounted, ref, computed } from \"vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"DashboardOrdersView\",\n\n  setup() {\n    const orders = ref([]);\n    const search = ref(\"\");\n    const statusFilter = ref(\"\");\n\n    async function loadOrders() {\n      try {\n        const res = await axios.get(\"http://localhost:8080/api/get_all_orders\");\n        orders.value = res.data;\n      } catch (err) {\n        console.log(\"Siparişler yüklenemedi:\", err);\n      }\n    }\n\n    onMounted(() => {\n      loadOrders();\n    });\n\n    const filteredOrders = computed(() =>\n      orders.value.filter((o) => {\n        const matchSearch =\n          o.user_name.toLowerCase().includes(search.value.toLowerCase()) ||\n          o.order_address.toLowerCase().includes(search.value.toLowerCase());\n        const matchStatus = statusFilter.value\n          ? o.status === statusFilter.value\n          : true;\n        return matchSearch && matchStatus;\n      })\n    );\n\n    function deleteOrder(id) {\n      if (confirm(\"Bu siparişi silmek istediğine emin misin?\")) {\n        axios\n          .post(\"http://localhost:8080/api/delete_order\", { id })\n          .then(() => {\n            orders.value = orders.value.filter((o) => o.order_id !== id);\n          })\n          .catch((err) => console.log(\"Silme hatası:\", err));\n      }\n    }\n\n    function viewDetails(o) {\n      alert(`Sipariş #${o.order_id} detay sayfasına yönlendirilecek (örnek).`);\n    }\n\n    function formatDate(date) {\n      return new Date(date).toLocaleString(\"tr-TR\");\n    }\n\n    return {\n      orders,\n      search,\n      statusFilter,\n      filteredOrders,\n      deleteOrder,\n      viewDetails,\n      formatDate,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.filters {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 10px;\n}\n</style>\n"],"mappings":";;AAuEA,SAASA,SAAS,EAAEC,GAAG,EAAEC,QAAO,QAAS,KAAK;AAC9C,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,qBAAqB;EAE3BC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIL,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMM,MAAK,GAAIN,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMO,YAAW,GAAIP,GAAG,CAAC,EAAE,CAAC;IAE5B,eAAeQ,UAAUA,CAAA,EAAG;MAC1B,IAAI;QACF,MAAMC,GAAE,GAAI,MAAMP,KAAK,CAACQ,GAAG,CAAC,0CAA0C,CAAC;QACvEL,MAAM,CAACM,KAAI,GAAIF,GAAG,CAACG,IAAI;MACzB,EAAE,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEF,GAAG,CAAC;MAC7C;IACF;IAEAd,SAAS,CAAC,MAAM;MACdS,UAAU,CAAC,CAAC;IACd,CAAC,CAAC;IAEF,MAAMQ,cAAa,GAAIf,QAAQ,CAAC,MAC9BI,MAAM,CAACM,KAAK,CAACM,MAAM,CAAEC,CAAC,IAAK;MACzB,MAAMC,WAAU,GACdD,CAAC,CAACE,SAAS,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAChB,MAAM,CAACK,KAAK,CAACU,WAAW,CAAC,CAAC,KAC7DH,CAAC,CAACK,aAAa,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAChB,MAAM,CAACK,KAAK,CAACU,WAAW,CAAC,CAAC,CAAC;MACpE,MAAMG,WAAU,GAAIjB,YAAY,CAACI,KAAI,GACjCO,CAAC,CAACO,MAAK,KAAMlB,YAAY,CAACI,KAAI,GAC9B,IAAI;MACR,OAAOQ,WAAU,IAAKK,WAAW;IACnC,CAAC,CACH,CAAC;IAED,SAASE,WAAWA,CAACC,EAAE,EAAE;MACvB,IAAIC,OAAO,CAAC,2CAA2C,CAAC,EAAE;QACxD1B,KAAI,CACD2B,IAAI,CAAC,wCAAwC,EAAE;UAAEF;QAAG,CAAC,EACrDG,IAAI,CAAC,MAAM;UACVzB,MAAM,CAACM,KAAI,GAAIN,MAAM,CAACM,KAAK,CAACM,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACa,QAAO,KAAMJ,EAAE,CAAC;QAC9D,CAAC,EACAK,KAAK,CAAEnB,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,GAAG,CAAC,CAAC;MACtD;IACF;IAEA,SAASoB,WAAWA,CAACf,CAAC,EAAE;MACtBgB,KAAK,CAAC,YAAYhB,CAAC,CAACa,QAAQ,2CAA2C,CAAC;IAC1E;IAEA,SAASI,UAAUA,CAACC,IAAI,EAAE;MACxB,OAAO,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,cAAc,CAAC,OAAO,CAAC;IAC/C;IAEA,OAAO;MACLjC,MAAM;MACNC,MAAM;MACNC,YAAY;MACZS,cAAc;MACdU,WAAW;MACXO,WAAW;MACXE;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}