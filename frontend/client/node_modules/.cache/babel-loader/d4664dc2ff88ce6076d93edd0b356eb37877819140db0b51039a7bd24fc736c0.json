{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport { onMounted, ref, computed } from \"vue\";\nimport { useProductStore } from \"../store/ProductsStore\";\nimport axios from \"axios\";\nexport default {\n  __name: 'DashboardProductsView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const productStore = useProductStore();\n    const {\n      products,\n      loadCategory\n    } = productStore;\n    const search = ref(\"\");\n    const selectedCategory = ref(\"\");\n    const stockFilter = ref(\"\");\n    onMounted(() => {\n      loadCategory();\n    });\n    const categories = computed(() => {\n      const set = new Set(products.map(p => p.category));\n      return [...set];\n    });\n    const filteredProducts = computed(() => products.filter(p => {\n      const matchTitle = p.title.toLowerCase().includes(search.value.toLowerCase());\n      const matchCategory = selectedCategory.value ? p.category === selectedCategory.value : true;\n      const matchStock = stockFilter.value === \"in\" ? p.stock > 0 : stockFilter.value === \"out\" ? p.stock <= 0 : true;\n      return matchTitle && matchCategory && matchStock;\n    }));\n    function deleteProduct(id) {\n      if (confirm(\"Ürünü silmek istediğine emin misin?\")) {\n        axios.post(\"http://localhost:8080/api/delete_product\", {\n          id\n        }).then(() => {\n          productStore.products = productStore.products.filter(p => p.product_id !== id);\n        }).catch(err => console.log(\"Silme hatası:\", err));\n      }\n    }\n    function editProduct(p) {\n      alert(`${p.title} düzenleme sayfasına yönlendirilecek (örnek).`);\n    }\n    const __returned__ = {\n      productStore,\n      products,\n      loadCategory,\n      search,\n      selectedCategory,\n      stockFilter,\n      categories,\n      filteredProducts,\n      deleteProduct,\n      editProduct,\n      onMounted,\n      ref,\n      computed,\n      get useProductStore() {\n        return useProductStore;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","ref","computed","useProductStore","axios","productStore","products","loadCategory","search","selectedCategory","stockFilter","categories","set","Set","map","p","category","filteredProducts","filter","matchTitle","title","toLowerCase","includes","value","matchCategory","matchStock","stock","deleteProduct","id","confirm","post","then","product_id","catch","err","console","log","editProduct","alert"],"sources":["/home/aliberk/Masaüstü/ecommerce/frontend/client/src/views/DashboardProductsView.vue"],"sourcesContent":["<template>\n  <section class=\"container mt-4\">\n    <h3 class=\"mb-3\">Ürün Yönetimi</h3>\n\n    <!-- Filtre Alanı -->\n    <div class=\"filters mb-4\">\n      <input v-model=\"search\" placeholder=\"Ürün adı ara...\" class=\"form-control mb-2\" />\n      <select v-model=\"selectedCategory\" class=\"form-select mb-2\">\n        <option value=\"\">Tüm Kategoriler</option>\n        <option v-for=\"cat in categories\" :key=\"cat\">{{ cat }}</option>\n      </select>\n      <select v-model=\"stockFilter\" class=\"form-select\">\n        <option value=\"\">Tüm Stoklar</option>\n        <option value=\"in\">Stokta</option>\n        <option value=\"out\">Stokta Yok</option>\n      </select>\n    </div>\n\n    <!-- Ürün Tablosu -->\n    <table class=\"table table-bordered align-middle text-center\">\n      <thead class=\"table-dark\">\n        <tr>\n          <th>ID</th>\n          <th>Görsel</th>\n          <th>Başlık</th>\n          <th>Kategori</th>\n          <th>Fiyat</th>\n          <th>Stok</th>\n          <th>İşlemler</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"p in filteredProducts\" :key=\"p.product_id\">\n          <td>{{ p.product_id }}</td>\n          <td><img :src=\"p.thumbnail\" alt=\"\" width=\"60\" class=\"rounded\" /></td>\n          <td>{{ p.title }}</td>\n          <td>{{ p.category }}</td>\n          <td>{{ p.price }} ₺</td>\n          <td>\n            <span :class=\"p.stock > 0 ? 'text-success' : 'text-danger'\">\n              {{ p.stock > 0 ? 'Stokta' : 'Tükendi' }}\n            </span>\n          </td>\n          <td>\n            <button class=\"btn btn-warning btn-sm me-2\" @click=\"editProduct(p)\">Düzenle</button>\n            <button class=\"btn btn-danger btn-sm\" @click=\"deleteProduct(p.product_id)\">Sil</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <p v-if=\"!(filteredProducts.length > 2)\" class=\"text-muted mt-3 text-center\">Hiç ürün bulunamadı.</p>\n  </section>\n</template>\n\n<script setup>\nimport { onMounted, ref, computed } from \"vue\";\nimport { useProductStore } from \"../store/ProductsStore\";\nimport axios from \"axios\";\n\nconst productStore = useProductStore();\nconst { products, loadCategory } = productStore;\n\nconst search = ref(\"\");\nconst selectedCategory = ref(\"\");\nconst stockFilter = ref(\"\");\n\n\n\nonMounted(() => {\n    loadCategory();\n});\n\nconst categories = computed(() => {\n  const set = new Set(products.map(p => p.category));\n  return [...set];\n});\n\nconst filteredProducts = computed(() =>\n  products.filter(p => {\n    const matchTitle = p.title.toLowerCase().includes(search.value.toLowerCase());\n    const matchCategory = selectedCategory.value ? p.category === selectedCategory.value : true;\n    const matchStock =\n      stockFilter.value === \"in\"\n        ? p.stock > 0\n        : stockFilter.value === \"out\"\n        ? p.stock <= 0\n        : true;\n    return matchTitle && matchCategory && matchStock;\n  })\n);\n\nfunction deleteProduct(id) {\n  if (confirm(\"Ürünü silmek istediğine emin misin?\")) {\n    axios\n      .post(\"http://localhost:8080/api/delete_product\", { id })\n      .then(() => {\n        productStore.products = productStore.products.filter(p => p.product_id !== id);\n      })\n      .catch(err => console.log(\"Silme hatası:\", err));\n  }\n}\n\nfunction editProduct(p) {\n  alert(`${p.title} düzenleme sayfasına yönlendirilecek (örnek).`);\n}\n</script>\n\n<style scoped>\n.filters {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 10px;\n}\n</style>\n"],"mappings":";;;;;;;;;;AAwDA,SAASA,SAAS,EAAEC,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AAC9C,SAASC,eAAe,QAAQ,wBAAwB;AACxD,OAAOC,KAAK,MAAM,OAAO;;;;;;;IAEzB,MAAMC,YAAY,GAAGF,eAAe,CAAC,CAAC;IACtC,MAAM;MAAEG,QAAQ;MAAEC;IAAa,CAAC,GAAGF,YAAY;IAE/C,MAAMG,MAAM,GAAGP,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMQ,gBAAgB,GAAGR,GAAG,CAAC,EAAE,CAAC;IAChC,MAAMS,WAAW,GAAGT,GAAG,CAAC,EAAE,CAAC;IAI3BD,SAAS,CAAC,MAAM;MACZO,YAAY,CAAC,CAAC;IAClB,CAAC,CAAC;IAEF,MAAMI,UAAU,GAAGT,QAAQ,CAAC,MAAM;MAChC,MAAMU,GAAG,GAAG,IAAIC,GAAG,CAACP,QAAQ,CAACQ,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAAC,CAAC;MAClD,OAAO,CAAC,GAAGJ,GAAG,CAAC;IACjB,CAAC,CAAC;IAEF,MAAMK,gBAAgB,GAAGf,QAAQ,CAAC,MAChCI,QAAQ,CAACY,MAAM,CAACH,CAAC,IAAI;MACnB,MAAMI,UAAU,GAAGJ,CAAC,CAACK,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACd,MAAM,CAACe,KAAK,CAACF,WAAW,CAAC,CAAC,CAAC;MAC7E,MAAMG,aAAa,GAAGf,gBAAgB,CAACc,KAAK,GAAGR,CAAC,CAACC,QAAQ,KAAKP,gBAAgB,CAACc,KAAK,GAAG,IAAI;MAC3F,MAAME,UAAU,GACdf,WAAW,CAACa,KAAK,KAAK,IAAG,GACrBR,CAAC,CAACW,KAAK,GAAG,IACVhB,WAAW,CAACa,KAAK,KAAK,KAAI,GAC1BR,CAAC,CAACW,KAAK,IAAI,IACX,IAAI;MACV,OAAOP,UAAU,IAAIK,aAAa,IAAIC,UAAU;IAClD,CAAC,CACH,CAAC;IAED,SAASE,aAAaA,CAACC,EAAE,EAAE;MACzB,IAAIC,OAAO,CAAC,qCAAqC,CAAC,EAAE;QAClDzB,KAAI,CACD0B,IAAI,CAAC,0CAA0C,EAAE;UAAEF;QAAG,CAAC,EACvDG,IAAI,CAAC,MAAM;UACV1B,YAAY,CAACC,QAAQ,GAAGD,YAAY,CAACC,QAAQ,CAACY,MAAM,CAACH,CAAC,IAAIA,CAAC,CAACiB,UAAU,KAAKJ,EAAE,CAAC;QAChF,CAAC,EACAK,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,GAAG,CAAC,CAAC;MACpD;IACF;IAEA,SAASG,WAAWA,CAACtB,CAAC,EAAE;MACtBuB,KAAK,CAAC,GAAGvB,CAAC,CAACK,KAAK,+CAA+C,CAAC;IAClE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}