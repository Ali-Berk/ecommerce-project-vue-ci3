{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"d-flex justify-content-between mb-4 align-items-center\"\n};\nconst _hoisted_3 = {\n  class: \"filters mb-4\"\n};\nconst _hoisted_4 = {\n  class: \"table table-bordered align-middle text-center\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  key: 0,\n  class: \"text-muted mt-3 text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"h3\", {\n    class: \"mb-3\"\n  }, \"Ürün Yönetimi\", -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/dashboard/addProduct\",\n    class: \"btn btn-success px-3\"\n  }, {\n    default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createTextVNode(\"Ürün Ekle\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })]), _createCommentVNode(\" Filtre Alanı \"), _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.search = $event),\n    placeholder: \"Ürün adı ara...\",\n    class: \"form-control mb-2\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.search]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.selectedCategory = $event),\n    class: \"form-select mb-2\"\n  }, [_cache[5] || (_cache[5] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Tüm Kategoriler\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categories, cat => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: cat\n    }, _toDisplayString(cat), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.selectedCategory]]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.stockFilter = $event),\n    class: \"form-select\"\n  }, [...(_cache[6] || (_cache[6] = [_createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Tüm Stoklar\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"in\"\n  }, \"Stokta\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"out\"\n  }, \"Stokta Yok\", -1 /* CACHED */)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.stockFilter]])]), _createCommentVNode(\" Ürün Tablosu \"), _createElementVNode(\"table\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"thead\", {\n    class: \"table-dark\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Görsel\"), _createElementVNode(\"th\", null, \"Başlık\"), _createElementVNode(\"th\", null, \"Kategori\"), _createElementVNode(\"th\", null, \"Fiyat\"), _createElementVNode(\"th\", null, \"Stok\"), _createElementVNode(\"th\", null, \"İşlemler\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredProducts, p => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: p.product_id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(p.product_id), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      src: p.thumbnail,\n      alt: \"ürün görseli\",\n      width: \"60\",\n      class: \"rounded\"\n    }, null, 8 /* PROPS */, _hoisted_5)]), _createElementVNode(\"td\", null, _toDisplayString(p.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(p.category), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(p.price) + \" ₺\", 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: _normalizeClass(p.stock > 0 ? 'text-success' : 'text-danger')\n    }, _toDisplayString(p.stock > 0 ? \"Stokta\" : \"Tükendi\"), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-warning btn-sm me-2\",\n      onClick: $event => $setup.editProduct(p)\n    }, \" Düzenle \", 8 /* PROPS */, _hoisted_6), _createElementVNode(\"button\", {\n      class: \"btn btn-danger btn-sm\",\n      onClick: $event => $setup.deleteProduct(p.product_id)\n    }, \" Sil \", 8 /* PROPS */, _hoisted_7)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), !$setup.filteredProducts.length ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, \" Hiç ürün bulunamadı. \")) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","_cache","_createCommentVNode","_hoisted_3","$setup","search","$event","placeholder","selectedCategory","value","_Fragment","_renderList","categories","cat","key","_toDisplayString","stockFilter","_hoisted_4","filteredProducts","p","product_id","src","thumbnail","alt","width","title","category","price","_normalizeClass","stock","onClick","editProduct","_hoisted_6","deleteProduct","_hoisted_7","length","_hoisted_8"],"sources":["/home/aliberk/Masaüstü/ecommerce/frontend/client/src/views/DashboardProductsView.vue"],"sourcesContent":["<template>\n  <section class=\"container mt-4\">\n    <div class=\"d-flex justify-content-between mb-4 align-items-center\">\n        <h3 class=\"mb-3\">Ürün Yönetimi</h3>\n        <router-link to=\"/dashboard/addProduct\" class=\"btn btn-success px-3\">Ürün Ekle</router-link>\n    </div>\n\n    <!-- Filtre Alanı -->\n    <div class=\"filters mb-4\">\n      <input\n        v-model=\"search\"\n        placeholder=\"Ürün adı ara...\"\n        class=\"form-control mb-2\"\n      />\n      <select v-model=\"selectedCategory\" class=\"form-select mb-2\">\n        <option value=\"\">Tüm Kategoriler</option>\n        <option v-for=\"cat in categories\" :key=\"cat\">{{ cat }}</option>\n      </select>\n      <select v-model=\"stockFilter\" class=\"form-select\">\n        <option value=\"\">Tüm Stoklar</option>\n        <option value=\"in\">Stokta</option>\n        <option value=\"out\">Stokta Yok</option>\n      </select>\n    </div>\n\n    <!-- Ürün Tablosu -->\n    <table class=\"table table-bordered align-middle text-center\">\n      <thead class=\"table-dark\">\n        <tr>\n          <th>ID</th>\n          <th>Görsel</th>\n          <th>Başlık</th>\n          <th>Kategori</th>\n          <th>Fiyat</th>\n          <th>Stok</th>\n          <th>İşlemler</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"p in filteredProducts\" :key=\"p.product_id\">\n          <td>{{ p.product_id }}</td>\n          <td>\n            <img\n              :src=\"p.thumbnail\"\n              alt=\"ürün görseli\"\n              width=\"60\"\n              class=\"rounded\"\n            />\n          </td>\n          <td>{{ p.title }}</td>\n          <td>{{ p.category }}</td>\n          <td>{{ p.price }} ₺</td>\n          <td>\n            <span :class=\"p.stock > 0 ? 'text-success' : 'text-danger'\">\n              {{ p.stock > 0 ? \"Stokta\" : \"Tükendi\" }}\n            </span>\n          </td>\n          <td>\n            <button\n              class=\"btn btn-warning btn-sm me-2\"\n              @click=\"editProduct(p)\"\n            >\n              Düzenle\n            </button>\n            <button\n              class=\"btn btn-danger btn-sm\"\n              @click=\"deleteProduct(p.product_id)\"\n            >\n              Sil\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <p v-if=\"!filteredProducts.length\" class=\"text-muted mt-3 text-center\">\n      Hiç ürün bulunamadı.\n    </p>\n  </section>\n</template>\n\n<script>\nimport { onMounted, ref, computed } from \"vue\";\nimport { useProductStore } from \"../store/ProductsStore\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"DashboardProductsView\",\n\n  setup() {\n    const productStore = useProductStore();\n    const { products, loadCategory } = productStore;\n\n    const search = ref(\"\");\n    const selectedCategory = ref(\"\");\n    const stockFilter = ref(\"\");\n\n    onMounted(() => {\n      loadCategory();\n    });\n\n    const categories = computed(() => {\n      const set = new Set(products.map((p) => p.category));\n      return [...set];\n    });\n\n    const filteredProducts = computed(() =>\n      products.filter((p) => {\n        const matchTitle = p.title\n          .toLowerCase()\n          .includes(search.value.toLowerCase());\n        const matchCategory = selectedCategory.value\n          ? p.category === selectedCategory.value\n          : true;\n        const matchStock =\n          stockFilter.value === \"in\"\n            ? p.stock > 0\n            : stockFilter.value === \"out\"\n            ? p.stock <= 0\n            : true;\n        return matchTitle && matchCategory && matchStock;\n      })\n    );\n\n    function deleteProduct(id) {\n      \n      if (confirm(\"Ürünü silmek istediğine emin misin?\")) {\n        axios\n          .post(\"http://localhost:8080/api/delete_product\", { 'product_id' : id })\n          .then(() => {\n            productStore.products = productStore.products.filter(\n              (p) => p.product_id !== id\n            );\n          })\n          .catch((err) => console.log(\"Silme hatası:\", err));\n      }\n    }\n\n    function editProduct(p) {\n      \n    }\n\n    return {\n      products,\n      search,\n      selectedCategory,\n      stockFilter,\n      categories,\n      filteredProducts,\n      deleteProduct,\n      editProduct,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.filters {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 10px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}