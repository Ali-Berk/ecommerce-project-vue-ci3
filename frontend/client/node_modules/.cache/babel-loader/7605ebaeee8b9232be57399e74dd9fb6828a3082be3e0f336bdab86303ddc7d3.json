{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport { useRoute } from \"vue-router\";\nimport { useProductStore } from \"../store/ProductsStore\";\nexport default {\n  name: \"AdminEditProduct\",\n  data() {\n    return {\n      form: {\n        id: \"\",\n        title: \"\",\n        price: 0,\n        category_fk: \"\",\n        stock: 0,\n        description: \"\",\n        thumbnail: \"\"\n      },\n      message: \"\",\n      messageType: \"alert-success\",\n      loading: false,\n      loaded: false\n    };\n  },\n  computed: {\n    categories() {\n      const store = useProductStore();\n      return store.categories || [];\n    }\n  },\n  methods: {\n    loadProductFromStore() {\n      const route = useRoute();\n      const store = useProductStore();\n      const id = route.params.id;\n      const p = store.products.find(p => p.product_id == id);\n      if (p) {\n        this.form = {\n          id: p.product_id,\n          title: p.title,\n          price: p.price,\n          category_fk: p.category_fk,\n          stock: p.stock,\n          description: p.description,\n          thumbnail: p.thumbnail\n        };\n        this.loaded = true;\n      } else {\n        this.message = \"Ürün bulunamadı.\";\n        this.messageType = \"alert-danger\";\n      }\n    },\n    async updateProduct() {\n      this.loading = true;\n      try {\n        const store = useProductStore();\n        await store.updateProduct(this.form);\n        this.messageType = \"alert-success\";\n        this.message = \"Ürün başarıyla güncellendi.\";\n      } catch (err) {\n        console.error(err);\n        this.messageType = \"alert-danger\";\n        this.message = \"Güncelleme hatası.\";\n      } finally {\n        this.loading = false;\n      }\n    }\n  },\n  mounted() {\n    this.loadProductFromStore();\n  }\n};","map":{"version":3,"names":["useRoute","useProductStore","name","data","form","id","title","price","category_fk","stock","description","thumbnail","message","messageType","loading","loaded","computed","categories","store","methods","loadProductFromStore","route","params","p","products","find","product_id","updateProduct","err","console","error","mounted"],"sources":["/home/aliberk/Masaüstü/ecommerce/frontend/client/src/views/DashboardProductEditView.vue"],"sourcesContent":["<template>\n  <section class=\"container mt-4\">\n    <h3 class=\"mb-3\">Ürün Düzenle</h3>\n\n    <div v-if=\"message\" :class=\"`alert ${messageType}`\">{{ message }}</div>\n\n    <form v-if=\"loaded\" @submit.prevent=\"updateProduct\">\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Başlık</label>\n        <input v-model=\"form.title\" type=\"text\" class=\"form-control\" required />\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-md-4 mb-3\">\n          <label class=\"form-label\">Fiyat (₺)</label>\n          <input v-model.number=\"form.price\" type=\"number\" step=\"0.01\" class=\"form-control\" required />\n        </div>\n\n        <div class=\"col-md-4 mb-3\">\n          <label class=\"form-label\">Kategori</label>\n          <select v-model=\"form.category_fk\" class=\"form-select\" required>\n            <option value=\"\">Seçin</option>\n            <option v-for=\"c in categories\" :key=\"c.category_id\" :value=\"c.category_id\">\n              {{ c.category_name }}\n            </option>\n          </select>\n        </div>\n\n        <div class=\"col-md-4 mb-3\">\n          <label class=\"form-label\">Stok Adedi</label>\n          <input v-model.number=\"form.stock\" type=\"number\" min=\"0\" class=\"form-control\" />\n        </div>\n      </div>\n\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Açıklama</label>\n        <textarea v-model=\"form.description\" class=\"form-control\" rows=\"3\"></textarea>\n      </div>\n\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Thumbnail (URL)</label>\n        <input v-model=\"form.thumbnail\" type=\"url\" class=\"form-control\" placeholder=\"https://...\" />\n        <img\n          v-if=\"form.thumbnail\"\n          :src=\"form.thumbnail\"\n          class=\"mt-2 border rounded\"\n          style=\"width:150px; height:100px; object-fit:cover;\"\n        />\n      </div>\n\n      <div class=\"d-flex gap-2\">\n        <button class=\"btn btn-primary\" type=\"submit\" :disabled=\"loading\">\n          {{ loading ? 'Güncelleniyor...' : 'Kaydet' }}\n        </button>\n        <router-link class=\"btn btn-secondary\" to=\"/dashboard/products\">Geri</router-link>\n      </div>\n    </form>\n\n    <p v-else class=\"text-muted\">Yükleniyor...</p>\n  </section>\n</template>\n\n<script>\nimport { useRoute } from \"vue-router\";\nimport { useProductStore } from \"../store/ProductsStore\";\n\nexport default {\n  name: \"AdminEditProduct\",\n  data() {\n    return {\n      form: {\n        id: \"\",\n        title: \"\",\n        price: 0,\n        category_fk: \"\",\n        stock: 0,\n        description: \"\",\n        thumbnail: \"\"\n      },\n      message: \"\",\n      messageType: \"alert-success\",\n      loading: false,\n      loaded: false\n    };\n  },\n  computed: {\n    categories() {\n      const store = useProductStore();\n      return store.categories || [];\n    }\n  },\n  methods: {\n    loadProductFromStore() {\n      const route = useRoute();\n      const store = useProductStore();\n      const id = route.params.id;\n      const p = store.products.find(p => p.product_id == id);\n      if (p) {\n        this.form = {\n          id: p.product_id,\n          title: p.title,\n          price: p.price,\n          category_fk: p.category_fk,\n          stock: p.stock,\n          description: p.description,\n          thumbnail: p.thumbnail\n        };\n        this.loaded = true;\n      } else {\n        this.message = \"Ürün bulunamadı.\";\n        this.messageType = \"alert-danger\";\n      }\n    },\n    async updateProduct() {\n      this.loading = true;\n      try {\n        const store = useProductStore();\n        await store.updateProduct(this.form);\n        this.messageType = \"alert-success\";\n        this.message = \"Ürün başarıyla güncellendi.\";\n      } catch (err) {\n        console.error(err);\n        this.messageType = \"alert-danger\";\n        this.message = \"Güncelleme hatası.\";\n      } finally {\n        this.loading = false;\n      }\n    }\n  },\n  mounted() {\n    this.loadProductFromStore();\n  }\n};\n</script>\n"],"mappings":";;AA+DA,SAASA,QAAO,QAAS,YAAY;AACrC,SAASC,eAAc,QAAS,wBAAwB;AAExD,eAAe;EACbC,IAAI,EAAE,kBAAkB;EACxBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,CAAC;QACRC,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE,CAAC;QACRC,WAAW,EAAE,EAAE;QACfC,SAAS,EAAE;MACb,CAAC;MACDC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,eAAe;MAC5BC,OAAO,EAAE,KAAK;MACdC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,UAAUA,CAAA,EAAG;MACX,MAAMC,KAAI,GAAIjB,eAAe,CAAC,CAAC;MAC/B,OAAOiB,KAAK,CAACD,UAAS,IAAK,EAAE;IAC/B;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,oBAAoBA,CAAA,EAAG;MACrB,MAAMC,KAAI,GAAIrB,QAAQ,CAAC,CAAC;MACxB,MAAMkB,KAAI,GAAIjB,eAAe,CAAC,CAAC;MAC/B,MAAMI,EAAC,GAAIgB,KAAK,CAACC,MAAM,CAACjB,EAAE;MAC1B,MAAMkB,CAAA,GAAIL,KAAK,CAACM,QAAQ,CAACC,IAAI,CAACF,CAAA,IAAKA,CAAC,CAACG,UAAS,IAAKrB,EAAE,CAAC;MACtD,IAAIkB,CAAC,EAAE;QACL,IAAI,CAACnB,IAAG,GAAI;UACVC,EAAE,EAAEkB,CAAC,CAACG,UAAU;UAChBpB,KAAK,EAAEiB,CAAC,CAACjB,KAAK;UACdC,KAAK,EAAEgB,CAAC,CAAChB,KAAK;UACdC,WAAW,EAAEe,CAAC,CAACf,WAAW;UAC1BC,KAAK,EAAEc,CAAC,CAACd,KAAK;UACdC,WAAW,EAAEa,CAAC,CAACb,WAAW;UAC1BC,SAAS,EAAEY,CAAC,CAACZ;QACf,CAAC;QACD,IAAI,CAACI,MAAK,GAAI,IAAI;MACpB,OAAO;QACL,IAAI,CAACH,OAAM,GAAI,kBAAkB;QACjC,IAAI,CAACC,WAAU,GAAI,cAAc;MACnC;IACF,CAAC;IACD,MAAMc,aAAaA,CAAA,EAAG;MACpB,IAAI,CAACb,OAAM,GAAI,IAAI;MACnB,IAAI;QACF,MAAMI,KAAI,GAAIjB,eAAe,CAAC,CAAC;QAC/B,MAAMiB,KAAK,CAACS,aAAa,CAAC,IAAI,CAACvB,IAAI,CAAC;QACpC,IAAI,CAACS,WAAU,GAAI,eAAe;QAClC,IAAI,CAACD,OAAM,GAAI,6BAA6B;MAC9C,EAAE,OAAOgB,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;QAClB,IAAI,CAACf,WAAU,GAAI,cAAc;QACjC,IAAI,CAACD,OAAM,GAAI,oBAAoB;MACrC,UAAU;QACR,IAAI,CAACE,OAAM,GAAI,KAAK;MACtB;IACF;EACF,CAAC;EACDiB,OAAOA,CAAA,EAAG;IACR,IAAI,CAACX,oBAAoB,CAAC,CAAC;EAC7B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}