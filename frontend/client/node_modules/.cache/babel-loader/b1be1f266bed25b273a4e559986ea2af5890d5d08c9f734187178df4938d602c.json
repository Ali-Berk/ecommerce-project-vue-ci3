{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"login-page d-flex justify-content-center align-items-center vh-100 bg-light\"\n};\nconst _hoisted_2 = {\n  class: \"card p-4 shadow\",\n  style: {\n    \"width\": \"100%\",\n    \"max-width\": \"400px\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"mb-3\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"invalid-feedback1\"\n};\nconst _hoisted_5 = {\n  class: \"mb-3\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"invalid-feedback1\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"mb-3 invalid-feedback1\"\n};\nconst _hoisted_8 = {\n  class: \"text-center mt-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[7] || (_cache[7] = _createElementVNode(\"h3\", {\n    class: \"text-center mb-4\"\n  }, \"Giriş Yap\", -1 /* CACHED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.handleLogin && $options.handleLogin(...args), [\"prevent\"])),\n    novalidate: \"\"\n  }, [_createElementVNode(\"div\", _hoisted_3, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    for: \"email\",\n    class: \"form-label\"\n  }, \"Email\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    class: \"form-control\",\n    id: \"mail\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), $data.submitted && !$data.email ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \" Email alanı zorunludur. \")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_5, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    for: \"password\",\n    class: \"form-label\"\n  }, \"Şifre\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]]), $data.submitted && !$data.password ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \" Şifre alanı zorunludur. \")) : _createCommentVNode(\"v-if\", true)]), $data.err ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, \" Kullanıcı Adı veya Şifre hatalı! \")) : _createCommentVNode(\"v-if\", true), _cache[5] || (_cache[5] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary w-100 mt-2\"\n  }, \"Giriş Yap\", -1 /* CACHED */))], 32 /* NEED_HYDRATION */), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_router_link, {\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createTextVNode(\"Hesap oluştur\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","handleLogin","novalidate","_hoisted_3","for","type","id","$data","email","$event","required","submitted","_hoisted_4","_hoisted_5","password","_hoisted_6","err","_hoisted_7","_hoisted_8","_createVNode","_component_router_link","to"],"sources":["/home/aliberk/Masaüstü/ecommerce/frontend/client/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <div class=\"login-page d-flex justify-content-center align-items-center vh-100 bg-light\">\n    <div class=\"card p-4 shadow\" style=\"width: 100%; max-width: 400px;\">\n      <h3 class=\"text-center mb-4\">Giriş Yap</h3>\n      \n      <form @submit.prevent=\"handleLogin\" novalidate>\n        <div class=\"mb-3\">\n          <label for=\"email\" class=\"form-label\">Email</label>\n          <input\n            type=\"email\"\n            class=\"form-control\"\n            id=\"mail\"\n            v-model=\"email\"\n            required\n          />\n          <div class=\"invalid-feedback1\" v-if=\"submitted && !email\">\n            Email alanı zorunludur.\n          </div>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"password\" class=\"form-label\">Şifre</label>\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            id=\"password\"\n            v-model=\"password\"\n            required\n          />\n          <div class=\"invalid-feedback1\" v-if=\"submitted && !password\">\n            Şifre alanı zorunludur.\n          </div>\n        </div>\n        <div class=\"mb-3 invalid-feedback1\" v-if=\"err\">\n          Kullanıcı Adı veya Şifre hatalı!\n        </div>\n\n        <button type=\"submit\" class=\"btn btn-primary w-100 mt-2\">Giriş Yap</button>\n      </form>\n\n      <div class=\"text-center mt-3\">\n        <router-link to=\"/register\">Hesap oluştur</router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: \"LoginView\",\n  emits:['sessionCreate'],\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      submitted: false,\n      err: null\n    };\n  },\n  methods: {\n    async handleLogin() {\n      this.submitted = true;\n\n      if (!this.email || !this.password) {\n        return; \n      }\n      const {data} = await axios.post('http://localhost:8080/api/login',{\n        mail: this.email,\n        password: this.password\n      }, {withCredentials:true} )\n\n      if(data.status == \"success\") {\n        this.$router.push('/');\n        window.dispatchEvent(new CustomEvent('session-created'))\n      }\n      else{\n        this.err = true;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.login-page {\n  background: linear-gradient(135deg, #6c5ce7, #a29bfe);\n}\n\n.card {\n  border-radius: 1rem;\n}\n\n.form-control:invalid {\n  border-color: #dc3545;\n}\n\n.btn-primary {\n  background-color: #6c5ce7;\n  border-color: #6c5ce7;\n}\n\n.btn-primary:hover {\n  background-color: #5a4ddf;\n  border-color: #5a4ddf;\n}\n\n.invalid-feedback1{\n  color: #dc3545;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAA6E;;EACjFA,KAAK,EAAC,iBAAiB;EAACC,KAAsC,EAAtC;IAAA;IAAA;EAAA;;;EAIpBD,KAAK,EAAC;AAAM;;;EASVA,KAAK,EAAC;;;EAKRA,KAAK,EAAC;AAAM;;;EASVA,KAAK,EAAC;;;;EAIRA,KAAK,EAAC;;;EAORA,KAAK,EAAC;AAAkB;;;uBAvCjCE,mBAAA,CA2CM,OA3CNC,UA2CM,GA1CJC,mBAAA,CAyCM,OAzCNC,UAyCM,G,0BAxCJD,mBAAA,CAA2C;IAAvCJ,KAAK,EAAC;EAAkB,GAAC,WAAS,qBAEtCI,mBAAA,CAiCO;IAjCAE,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;IAAEG,UAAU,EAAV;MAClCR,mBAAA,CAYM,OAZNS,UAYM,G,0BAXJT,mBAAA,CAAmD;IAA5CU,GAAG,EAAC,OAAO;IAACd,KAAK,EAAC;KAAa,OAAK,qB,gBAC3CI,mBAAA,CAME;IALAW,IAAI,EAAC,OAAO;IACZf,KAAK,EAAC,cAAc;IACpBgB,EAAE,EAAC,MAAM;+DACAC,KAAA,CAAAC,KAAK,GAAAC,MAAA;IACdC,QAAQ,EAAR;iDADSH,KAAA,CAAAC,KAAK,E,GAGqBD,KAAA,CAAAI,SAAS,KAAKJ,KAAA,CAAAC,KAAK,I,cAAxDhB,mBAAA,CAEM,OAFNoB,UAEM,EAFoD,2BAE1D,K,qCAGFlB,mBAAA,CAYM,OAZNmB,UAYM,G,0BAXJnB,mBAAA,CAAsD;IAA/CU,GAAG,EAAC,UAAU;IAACd,KAAK,EAAC;KAAa,OAAK,qB,gBAC9CI,mBAAA,CAME;IALAW,IAAI,EAAC,UAAU;IACff,KAAK,EAAC,cAAc;IACpBgB,EAAE,EAAC,UAAU;+DACJC,KAAA,CAAAO,QAAQ,GAAAL,MAAA;IACjBC,QAAQ,EAAR;iDADSH,KAAA,CAAAO,QAAQ,E,GAGkBP,KAAA,CAAAI,SAAS,KAAKJ,KAAA,CAAAO,QAAQ,I,cAA3DtB,mBAAA,CAEM,OAFNuB,UAEM,EAFuD,2BAE7D,K,qCAEwCR,KAAA,CAAAS,GAAG,I,cAA7CxB,mBAAA,CAEM,OAFNyB,UAEM,EAFyC,oCAE/C,K,6DAEAvB,mBAAA,CAA2E;IAAnEW,IAAI,EAAC,QAAQ;IAACf,KAAK,EAAC;KAA6B,WAAS,oB,4BAGpEI,mBAAA,CAEM,OAFNwB,UAEM,GADJC,YAAA,CAAuDC,sBAAA;IAA1CC,EAAE,EAAC;EAAW;sBAAC,MAAa,KAAAxB,MAAA,QAAAA,MAAA,O,iBAAb,eAAa,mB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}